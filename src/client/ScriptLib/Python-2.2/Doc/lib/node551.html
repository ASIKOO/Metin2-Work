<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>18.1.1 Creating AST Objects </title>
<META NAME="description" CONTENT="18.1.1 Creating AST Objects ">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<meta http-equiv="Content-Type" content="text/html; charset=">
<link rel="STYLESHEET" href="lib.css">
<link rel="first" href="lib.html">
<link rel="contents" href="contents.html" title="Contents">
<link rel="index" href="genindex.html" title="Index">
<LINK REL="next" HREF="node552.html">
<LINK REL="previous" href="module-parser.html">
<LINK REL="up" href="module-parser.html">
<LINK REL="next" HREF="node552.html">
</head>
<body>
<DIV CLASS="navigation">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="module-parser.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="module-parser.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A HREF="node552.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><a href="modindex.html" title="Module Index"><img src="../icons/modules.gif"
  border="0" height="32"
  alt="Module Index" width="32"></a></td>
<td><A href="genindex.html"><img src="../icons/index.gif"
  border="0" height="32"
  alt="Index" width="32"></A></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="module-parser.html">18.1 parser  </A>
<b class="navlabel">Up:</b> <a class="sectref" href="module-parser.html">18.1 parser  </A>
<b class="navlabel">Next:</b> <a class="sectref" HREF="node552.html">18.1.2 Converting AST Objects</A>
<br><hr>
</DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION0020110000000000000000">&nbsp;</A>
<BR>
18.1.1 Creating AST Objects 
</H2>

<P>
AST objects may be created from source code or from a parse tree.
When creating an AST object from source, different functions are used
to create the <code>'eval'</code> and <code>'exec'</code> forms.

<P>
<dl><dt><b><a name="l2h-3767"><tt class="function">expr</tt></a></b>(<var>source</var>)
<dd>
The <tt class="function">expr()</tt> function parses the parameter <var>source</var>
as if it were an input to "<tt class="samp">compile(<var>source</var>, 'file.py',
'eval')</tt>".  If the parse succeeds, an AST object is created to hold the
internal parse tree representation, otherwise an appropriate exception
is thrown.
</dl>

<P>
<dl><dt><b><a name="l2h-3768"><tt class="function">suite</tt></a></b>(<var>source</var>)
<dd>
The <tt class="function">suite()</tt> function parses the parameter <var>source</var>
as if it were an input to "<tt class="samp">compile(<var>source</var>, 'file.py',
'exec')</tt>".  If the parse succeeds, an AST object is created to hold the
internal parse tree representation, otherwise an appropriate exception
is thrown.
</dl>

<P>
<dl><dt><b><a name="l2h-3769"><tt class="function">sequence2ast</tt></a></b>(<var>sequence</var>)
<dd>
This function accepts a parse tree represented as a sequence and
builds an internal representation if possible.  If it can validate
that the tree conforms to the Python grammar and all nodes are valid
node types in the host version of Python, an AST object is created
from the internal representation and returned to the called.  If there
is a problem creating the internal representation, or if the tree
cannot be validated, a <tt class="exception">ParserError</tt> exception is thrown.  An AST
object created this way should not be assumed to compile correctly;
normal exceptions thrown by compilation may still be initiated when
the AST object is passed to <tt class="function">compileast()</tt>.  This may indicate
problems not related to syntax (such as a <tt class="exception">MemoryError</tt>
exception), but may also be due to constructs such as the result of
parsing <code>del f(0)</code>, which escapes the Python parser but is
checked by the bytecode compiler.

<P>
Sequences representing terminal tokens may be represented as either
two-element lists of the form <code>(1, 'name')</code> or as three-element
lists of the form <code>(1, 'name', 56)</code>.  If the third element is
present, it is assumed to be a valid line number.  The line number
may be specified for any subset of the terminal symbols in the input
tree.
</dl>

<P>
<dl><dt><b><a name="l2h-3770"><tt class="function">tuple2ast</tt></a></b>(<var>sequence</var>)
<dd>
This is the same function as <tt class="function">sequence2ast()</tt>.  This entry point
is maintained for backward compatibility.
</dl>

<P>

<DIV CLASS="navigation">
<p><hr>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="module-parser.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="module-parser.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A HREF="node552.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><a href="modindex.html" title="Module Index"><img src="../icons/modules.gif"
  border="0" height="32"
  alt="Module Index" width="32"></a></td>
<td><A href="genindex.html"><img src="../icons/index.gif"
  border="0" height="32"
  alt="Index" width="32"></A></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="module-parser.html">18.1 parser  </A>
<b class="navlabel">Up:</b> <a class="sectref" href="module-parser.html">18.1 parser  </A>
<b class="navlabel">Next:</b> <a class="sectref" HREF="node552.html">18.1.2 Converting AST Objects</A>
<hr>
<span class="release-info">Release 2.2, documentation updated on December 21, 2001.</span>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</ADDRESS>
</BODY>
</HTML>
