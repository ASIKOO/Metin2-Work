<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>7.5.4 Semaphore Objects </title>
<META NAME="description" CONTENT="7.5.4 Semaphore Objects ">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<meta http-equiv="Content-Type" content="text/html; charset=">
<link rel="STYLESHEET" href="lib.css">
<link rel="first" href="lib.html">
<link rel="contents" href="contents.html" title="Contents">
<link rel="index" href="genindex.html" title="Index">
<LINK REL="next" href="event-objects.html">
<LINK REL="previous" href="condition-objects.html">
<LINK REL="up" href="module-threading.html">
<LINK REL="next" href="semaphore-examples.html">
</head>
<body>
<DIV CLASS="navigation">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="condition-objects.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="module-threading.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A href="semaphore-examples.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><a href="modindex.html" title="Module Index"><img src="../icons/modules.gif"
  border="0" height="32"
  alt="Module Index" width="32"></a></td>
<td><A href="genindex.html"><img src="../icons/index.gif"
  border="0" height="32"
  alt="Index" width="32"></A></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="condition-objects.html">7.5.3 Condition Objects</A>
<b class="navlabel">Up:</b> <a class="sectref" href="module-threading.html">7.5 threading  </A>
<b class="navlabel">Next:</b> <a class="sectref" href="semaphore-examples.html">7.5.4.1 Semaphore Example</A>
<br><hr>
</DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION009540000000000000000">&nbsp;</A>
<BR>
7.5.4 Semaphore Objects 
</H2>

<P>
This is one of the oldest synchronization primitives in the history of
computer science, invented by the early Dutch computer scientist
Edsger W. Dijkstra (he used <tt class="method">P()</tt> and <tt class="method">V()</tt> instead of
<tt class="method">acquire()</tt> and <tt class="method">release()</tt>).

<P>
A semaphore manages an internal counter which is decremented by each
<tt class="method">acquire()</tt> call and incremented by each <tt class="method">release()</tt>
call.  The counter can never go below zero; when <tt class="method">acquire()</tt>
finds that it is zero, it blocks, waiting until some other thread
calls <tt class="method">release()</tt>.

<P>
<dl><dt><b><span class="typelabel">class</span> <a name="l2h-1964"><tt class="class">Semaphore</tt></a></b>(<big>[</big><var>value</var><big>]</big>)
<dd>
The optional argument gives the initial value for the internal
counter; it defaults to <code>1</code>.
</dl>

<P>
<dl><dt><b><a name="l2h-1965"><tt class="method">acquire</tt></a></b>(<big>[</big><var>blocking</var><big>]</big>)
<dd>
Acquire a semaphore.

<P>
When invoked without arguments: if the internal counter is larger than
zero on entry, decrement it by one and return immediately.  If it is
zero on entry, block, waiting until some other thread has called
<tt class="method">release()</tt> to make it larger than zero.  This is done with
proper interlocking so that if multiple <tt class="method">acquire()</tt> calls are
blocked, <tt class="method">release()</tt> will wake exactly one of them up.  The
implementation may pick one at random, so the order in which blocked
threads are awakened should not be relied on.  There is no return
value in this case.

<P>
When invoked with <var>blocking</var> set to true, do the same thing as
when called without arguments, and return true.

<P>
When invoked with <var>blocking</var> set to false, do not block.  If a
call without an argument would block, return false immediately;
otherwise, do the same thing as when called without arguments, and
return true.
</dl>

<P>
<dl><dt><b><a name="l2h-1966"><tt class="method">release</tt></a></b>()
<dd>
Release a semaphore,
incrementing the internal counter by one.  When it was zero on
entry and another thread is waiting for it to become larger
than zero again, wake up that thread.
</dl>

<P>

<p><hr>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></a>

<UL CLASS="ChildLinks">
<LI><A href="semaphore-examples.html">7.5.4.1 <tt class="class">Semaphore</tt> Example</a>
</ul>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation">
<p><hr>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="condition-objects.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="module-threading.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A href="semaphore-examples.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><a href="modindex.html" title="Module Index"><img src="../icons/modules.gif"
  border="0" height="32"
  alt="Module Index" width="32"></a></td>
<td><A href="genindex.html"><img src="../icons/index.gif"
  border="0" height="32"
  alt="Index" width="32"></A></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="condition-objects.html">7.5.3 Condition Objects</A>
<b class="navlabel">Up:</b> <a class="sectref" href="module-threading.html">7.5 threading  </A>
<b class="navlabel">Next:</b> <a class="sectref" href="semaphore-examples.html">7.5.4.1 Semaphore Example</A>
<hr>
<span class="release-info">Release 2.2, documentation updated on December 21, 2001.</span>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</ADDRESS>
</BODY>
</HTML>
