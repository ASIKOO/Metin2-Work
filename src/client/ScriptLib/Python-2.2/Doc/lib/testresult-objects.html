<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>5.3.6 TestResult Objects </title>
<META NAME="description" CONTENT="5.3.6 TestResult Objects ">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<meta http-equiv="Content-Type" content="text/html; charset=">
<link rel="STYLESHEET" href="lib.css">
<link rel="first" href="lib.html">
<link rel="contents" href="contents.html" title="Contents">
<link rel="index" href="genindex.html" title="Index">
<LINK REL="next" href="testloader-objects.html">
<LINK REL="previous" href="testsuite-objects.html">
<LINK REL="up" href="module-unittest.html">
<LINK REL="next" href="testloader-objects.html">
</head>
<body>
<DIV CLASS="navigation">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="testsuite-objects.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="module-unittest.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A href="testloader-objects.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><a href="modindex.html" title="Module Index"><img src="../icons/modules.gif"
  border="0" height="32"
  alt="Module Index" width="32"></a></td>
<td><A href="genindex.html"><img src="../icons/index.gif"
  border="0" height="32"
  alt="Index" width="32"></A></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="testsuite-objects.html">5.3.5 TestSuite Objects</A>
<b class="navlabel">Up:</b> <a class="sectref" href="module-unittest.html">5.3 unittest  </A>
<b class="navlabel">Next:</b> <a class="sectref" href="testloader-objects.html">5.3.7 TestLoader Objects</A>
<br><hr>
</DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION007360000000000000000">&nbsp;</A>
<BR>
5.3.6 TestResult Objects
            
</H2>

<P>
A <tt class="class">TestResult</tt> object stores the results of a set of tests.  The
<tt class="class">TestCase</tt> and <tt class="class">TestSuite</tt> classes ensure that results are
properly stored; test authors do not need to worry about recording the
outcome of tests.

<P>
Testing frameworks built on top of <tt class="module"><a href="module-unittest.html">unittest</a></tt> may want
access to the <tt class="class">TestResult</tt> object generated by running a set of
tests for reporting purposes; a <tt class="class">TestResult</tt> instance is
returned by the <tt class="method">TestRunner.run()</tt> method for this purpose.

<P>
Each instance holds the total number of tests run, and collections of
failures and errors that occurred among those test runs.  The
collections contain tuples of <code>(<var>testcase</var>,
<var>exceptioninfo</var>)</code>, where <var>exceptioninfo</var> is a tuple as
returned by <tt class="function">sys.exc_info()</tt>.

<P>
<tt class="class">TestResult</tt> instances have the following attributes that will
be of interest when inspecting the results of running a set of tests:

<P>
<dl><dt><b><a name="l2h-870"><tt class="member">errors</tt></a></b>
<dd>
  A list containing pairs of <tt class="class">TestCase</tt> instances and the
  <tt class="function">sys.exc_info()</tt> results for tests which raised an
  exception but did not signal a test failure.
</dl>

<P>
<dl><dt><b><a name="l2h-871"><tt class="member">failures</tt></a></b>
<dd>
  A list containing pairs of <tt class="class">TestCase</tt> instances and the
  <tt class="function">sys.exc_info()</tt> results for tests which signalled a
  failure in the code under test.
</dl>

<P>
<dl><dt><b><a name="l2h-872"><tt class="member">testsRun</tt></a></b>
<dd>
  The number of tests which have been started.
</dl>

<P>
<dl><dt><b><a name="l2h-873"><tt class="method">wasSuccessful</tt></a></b>()
<dd>
  Returns true if all tests run so far have passed, otherwise returns
  false.
</dl>

<P>
The following methods of the <tt class="class">TestResult</tt> class are used to
maintain the internal data structures, and mmay be extended in
subclasses to support additional reporting requirements.  This is
particularly useful in building tools which support interactive
reporting while tests are being run.

<P>
<dl><dt><b><a name="l2h-874"><tt class="method">startTest</tt></a></b>(<var>test</var>)
<dd>
  Called when the test case <var>test</var> is about to be run.
</dl>

<P>
<dl><dt><b><a name="l2h-875"><tt class="method">stopTest</tt></a></b>(<var>test</var>)
<dd>
  Called when the test case <var>test</var> has been executed, regardless
  of the outcome.
</dl>

<P>
<dl><dt><b><a name="l2h-876"><tt class="method">addError</tt></a></b>(<var>test, err</var>)
<dd>
  Called when the test case <var>test</var> raises an exception without
  signalling a test failure.  <var>err</var> is a tuple of the form
  returned by <tt class="function">sys.exc_info()</tt>:  <code>(<var>type</var>,
  <var>value</var>, <var>traceback</var>)</code>.
</dl>

<P>
<dl><dt><b><a name="l2h-877"><tt class="method">addFailure</tt></a></b>(<var>test, err</var>)
<dd>
  Called when the test case <var>test</var> signals a failure.
  <var>err</var> is a tuple of the form returned by
  <tt class="function">sys.exc_info()</tt>:  <code>(<var>type</var>, <var>value</var>,
  <var>traceback</var>)</code>.
</dl>

<P>
<dl><dt><b><a name="l2h-878"><tt class="method">addSuccess</tt></a></b>(<var>test</var>)
<dd>
  This method is called for a test that does not fail; <var>test</var> is
  the test case object.
</dl>

<P>
One additional method is available for <tt class="class">TestResult</tt> objects:

<P>
<dl><dt><b><a name="l2h-879"><tt class="method">stop</tt></a></b>()
<dd>
  This method can be called to signal that the set of tests being run
  should be aborted.  Once this has been called, the
  <tt class="class">TestRunner</tt> object return to its caller without running any
  additional tests.  This is used by the <tt class="class">TextTestRunner</tt> class
  to stop the test framework when the user signals an interrupt from
  the keyboard.  Interactive tools which provide runners can use this
  in a similar manner.
</dl>

<P>

<DIV CLASS="navigation">
<p><hr>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="testsuite-objects.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="module-unittest.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A href="testloader-objects.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><a href="modindex.html" title="Module Index"><img src="../icons/modules.gif"
  border="0" height="32"
  alt="Module Index" width="32"></a></td>
<td><A href="genindex.html"><img src="../icons/index.gif"
  border="0" height="32"
  alt="Index" width="32"></A></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="testsuite-objects.html">5.3.5 TestSuite Objects</A>
<b class="navlabel">Up:</b> <a class="sectref" href="module-unittest.html">5.3 unittest  </A>
<b class="navlabel">Next:</b> <a class="sectref" href="testloader-objects.html">5.3.7 TestLoader Objects</A>
<hr>
<span class="release-info">Release 2.2, documentation updated on December 21, 2001.</span>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</ADDRESS>
</BODY>
</HTML>
