; Listing generated by Microsoft (R) Optimizing Compiler Version 19.28.29335.0 

	TITLE	D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??0CThread@@QAE@XZ				; CThread::CThread
PUBLIC	?Create@CThread@@QAEHPAX@Z			; CThread::Create
PUBLIC	?EntryPoint@CThread@@KGIPAX@Z			; CThread::EntryPoint
PUBLIC	?Run@CThread@@IAEIPAX@Z				; CThread::Run
PUBLIC	??_7CThread@@6B@				; CThread::`vftable'
PUBLIC	??_R4CThread@@6B@				; CThread::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCThread@@@8				; CThread `RTTI Type Descriptor'
PUBLIC	??_R3CThread@@8					; CThread::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CThread@@8					; CThread::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CThread@@8			; CThread::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	__purecall:PROC
EXTRN	__imp__SetThreadPriority@8:PROC
EXTRN	__beginthreadex:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
;	COMDAT ??_R1A@?0A@EA@CThread@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CThread@@8 DD FLAT:??_R0?AVCThread@@@8	; CThread::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CThread@@8
rdata$r	ENDS
;	COMDAT ??_R2CThread@@8
rdata$r	SEGMENT
??_R2CThread@@8 DD FLAT:??_R1A@?0A@EA@CThread@@8	; CThread::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CThread@@8
rdata$r	SEGMENT
??_R3CThread@@8 DD 00H					; CThread::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CThread@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCThread@@@8
data$rs	SEGMENT
??_R0?AVCThread@@@8 DD FLAT:??_7type_info@@6B@		; CThread `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCThread@@', 00H
data$rs	ENDS
;	COMDAT ??_R4CThread@@6B@
rdata$r	SEGMENT
??_R4CThread@@6B@ DD 00H				; CThread::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCThread@@@8
	DD	FLAT:??_R3CThread@@8
rdata$r	ENDS
;	COMDAT ??_7CThread@@6B@
CONST	SEGMENT
??_7CThread@@6B@ DD FLAT:??_R4CThread@@6B@		; CThread::`vftable'
	DD	FLAT:__purecall
	DD	FLAT:__purecall
CONST	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp
;	COMDAT ?Run@CThread@@IAEIPAX@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_arg$ = 8						; size = 4
?Run@CThread@@IAEIPAX@Z PROC				; CThread::Run, COMDAT
; _this$ = ecx

; 21   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 22   : 	if (!Setup())

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	8b 00		 mov	 eax, DWORD PTR [eax]
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	ff 10		 call	 DWORD PTR [eax]
  00011	85 c0		 test	 eax, eax
  00013	75 04		 jne	 SHORT $LN2@Run

; 23   : 		return 0;

  00015	33 c0		 xor	 eax, eax
  00017	eb 0e		 jmp	 SHORT $LN1@Run
$LN2@Run:

; 24   : 
; 25   : 	return (Execute(arg));

  00019	ff 75 08	 push	 DWORD PTR _arg$[ebp]
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	8b 00		 mov	 eax, DWORD PTR [eax]
  00021	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00024	ff 50 04	 call	 DWORD PTR [eax+4]
$LN1@Run:

; 26   : }

  00027	c9		 leave
  00028	c2 04 00	 ret	 4
?Run@CThread@@IAEIPAX@Z ENDP				; CThread::Run
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.h
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp
;	COMDAT ?EntryPoint@CThread@@KGIPAX@Z
_TEXT	SEGMENT
$T1 = -8						; size = 4
_pThread$ = -4						; size = 4
_pThis$ = 8						; size = 4
?EntryPoint@CThread@@KGIPAX@Z PROC			; CThread::EntryPoint, COMDAT

; 30   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	51		 push	 ecx

; 31   : 	CThread * pThread = (CThread *) pThis;

  00005	8b 45 08	 mov	 eax, DWORD PTR _pThis$[ebp]
  00008	89 45 fc	 mov	 DWORD PTR _pThread$[ebp], eax
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.h

; 18   : 		void *					Arg() const		{ return m_pArg; }

  0000b	8b 45 fc	 mov	 eax, DWORD PTR _pThread$[ebp]
  0000e	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00011	89 45 f8	 mov	 DWORD PTR $T1[ebp], eax
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp

; 32   : 	return pThread->Run(pThread->Arg());

  00014	ff 75 f8	 push	 DWORD PTR $T1[ebp]
  00017	8b 4d fc	 mov	 ecx, DWORD PTR _pThread$[ebp]
  0001a	e8 00 00 00 00	 call	 ?Run@CThread@@IAEIPAX@Z	; CThread::Run

; 33   : }

  0001f	c9		 leave
  00020	c2 04 00	 ret	 4
?EntryPoint@CThread@@KGIPAX@Z ENDP			; CThread::EntryPoint
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.h
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp
;	COMDAT ?Create@CThread@@QAEHPAX@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_arg$ = 8						; size = 4
?Create@CThread@@QAEHPAX@Z PROC				; CThread::Create, COMDAT
; _this$ = ecx

; 9    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.h

; 19   : 		void					Arg(void * arg) { m_pArg = arg; }

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	8b 4d 08	 mov	 ecx, DWORD PTR _arg$[ebp]
  0000d	89 48 08	 mov	 DWORD PTR [eax+8], ecx
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp

; 11   : 	m_hThread = (HANDLE) _beginthreadex(NULL, 0, EntryPoint, this, 0, &m_uThreadID);

  00010	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00013	83 c0 0c	 add	 eax, 12			; 0000000cH
  00016	50		 push	 eax
  00017	6a 00		 push	 0
  00019	ff 75 fc	 push	 DWORD PTR _this$[ebp]
  0001c	68 00 00 00 00	 push	 OFFSET ?EntryPoint@CThread@@KGIPAX@Z ; CThread::EntryPoint
  00021	6a 00		 push	 0
  00023	6a 00		 push	 0
  00025	e8 00 00 00 00	 call	 __beginthreadex
  0002a	83 c4 18	 add	 esp, 24			; 00000018H
  0002d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00030	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 12   : 
; 13   : 	if (!m_hThread)

  00033	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00036	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  0003a	75 04		 jne	 SHORT $LN2@Create

; 14   : 		return false;

  0003c	33 c0		 xor	 eax, eax
  0003e	eb 11		 jmp	 SHORT $LN1@Create
$LN2@Create:

; 15   : 
; 16   : 	SetThreadPriority(m_hThread, THREAD_PRIORITY_NORMAL);

  00040	6a 00		 push	 0
  00042	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00045	ff 70 04	 push	 DWORD PTR [eax+4]
  00048	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetThreadPriority@8

; 17   : 	return true;

  0004e	33 c0		 xor	 eax, eax
  00050	40		 inc	 eax
$LN1@Create:

; 18   : }

  00051	c9		 leave
  00052	c2 04 00	 ret	 4
?Create@CThread@@QAEHPAX@Z ENDP				; CThread::Create
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\Thread.cpp
;	COMDAT ??0CThread@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CThread@@QAE@XZ PROC					; CThread::CThread, COMDAT
; _this$ = ecx

; 5    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CThread@@6B@

; 4    : CThread::CThread() : m_pArg(NULL), m_hThread(NULL), m_uThreadID(0)

  00010	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00013	83 60 04 00	 and	 DWORD PTR [eax+4], 0
  00017	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001a	83 60 08 00	 and	 DWORD PTR [eax+8], 0
  0001e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00021	83 60 0c 00	 and	 DWORD PTR [eax+12], 0

; 6    : }

  00025	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00028	c9		 leave
  00029	c3		 ret	 0
??0CThread@@QAE@XZ ENDP					; CThread::CThread
_TEXT	ENDS
END
