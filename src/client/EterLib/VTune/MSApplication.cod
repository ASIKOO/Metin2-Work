; Listing generated by Microsoft (R) Optimizing Compiler Version 19.28.29335.0 

	TITLE	D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??0CMSApplication@@QAE@XZ			; CMSApplication::CMSApplication
PUBLIC	??1CMSApplication@@UAE@XZ			; CMSApplication::~CMSApplication
PUBLIC	?Initialize@CMSApplication@@QAEXPAUHINSTANCE__@@@Z ; CMSApplication::Initialize
PUBLIC	?MessageLoop@CMSApplication@@QAEXXZ		; CMSApplication::MessageLoop
PUBLIC	?IsMessage@CMSApplication@@QAE_NXZ		; CMSApplication::IsMessage
PUBLIC	?MessageProcess@CMSApplication@@QAE_NXZ		; CMSApplication::MessageProcess
PUBLIC	?WindowProcedure@CMSApplication@@MAEJPAUHWND__@@IIJ@Z ; CMSApplication::WindowProcedure
PUBLIC	??_GCMSApplication@@UAEPAXI@Z			; CMSApplication::`scalar deleting destructor'
PUBLIC	??_7CMSApplication@@6B@				; CMSApplication::`vftable'
PUBLIC	??_R4CMSApplication@@6B@			; CMSApplication::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCMSApplication@@@8			; CMSApplication `RTTI Type Descriptor'
PUBLIC	??_R3CMSApplication@@8				; CMSApplication::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CMSApplication@@8				; CMSApplication::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CMSApplication@@8			; CMSApplication::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R1A@?0A@EA@CMSWindow@@8			; CMSWindow::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R0?AVCMSWindow@@@8				; CMSWindow `RTTI Type Descriptor'
PUBLIC	??_R3CMSWindow@@8				; CMSWindow::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CMSWindow@@8				; CMSWindow::`RTTI Base Class Array'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	__imp__GetMessageA@16:PROC
EXTRN	__imp__TranslateMessage@4:PROC
EXTRN	__imp__DispatchMessageA@4:PROC
EXTRN	__imp__PeekMessageA@20:PROC
EXTRN	__imp__PostQuitMessage@4:PROC
EXTRN	??0CMSWindow@@QAE@XZ:PROC			; CMSWindow::CMSWindow
EXTRN	??1CMSWindow@@UAE@XZ:PROC			; CMSWindow::~CMSWindow
EXTRN	?WindowProcedure@CMSWindow@@UAEJPAUHWND__@@IIJ@Z:PROC ; CMSWindow::WindowProcedure
EXTRN	?OnSize@CMSWindow@@UAEXIJ@Z:PROC		; CMSWindow::OnSize
EXTRN	??_ECMSApplication@@UAEPAXI@Z:PROC		; CMSApplication::`vector deleting destructor'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?ms_hInstance@CMSWindow@@1PAUHINSTANCE__@@A:DWORD ; CMSWindow::ms_hInstance
;	COMDAT ??_R2CMSWindow@@8
rdata$r	SEGMENT
??_R2CMSWindow@@8 DD FLAT:??_R1A@?0A@EA@CMSWindow@@8	; CMSWindow::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CMSWindow@@8
rdata$r	SEGMENT
??_R3CMSWindow@@8 DD 00H				; CMSWindow::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CMSWindow@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCMSWindow@@@8
data$rs	SEGMENT
??_R0?AVCMSWindow@@@8 DD FLAT:??_7type_info@@6B@	; CMSWindow `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCMSWindow@@', 00H
data$rs	ENDS
;	COMDAT ??_R1A@?0A@EA@CMSWindow@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CMSWindow@@8 DD FLAT:??_R0?AVCMSWindow@@@8 ; CMSWindow::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CMSWindow@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@CMSApplication@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CMSApplication@@8 DD FLAT:??_R0?AVCMSApplication@@@8 ; CMSApplication::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CMSApplication@@8
rdata$r	ENDS
;	COMDAT ??_R2CMSApplication@@8
rdata$r	SEGMENT
??_R2CMSApplication@@8 DD FLAT:??_R1A@?0A@EA@CMSApplication@@8 ; CMSApplication::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@CMSWindow@@8
rdata$r	ENDS
;	COMDAT ??_R3CMSApplication@@8
rdata$r	SEGMENT
??_R3CMSApplication@@8 DD 00H				; CMSApplication::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2CMSApplication@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCMSApplication@@@8
data$rs	SEGMENT
??_R0?AVCMSApplication@@@8 DD FLAT:??_7type_info@@6B@	; CMSApplication `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCMSApplication@@', 00H
data$rs	ENDS
;	COMDAT ??_R4CMSApplication@@6B@
rdata$r	SEGMENT
??_R4CMSApplication@@6B@ DD 00H				; CMSApplication::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCMSApplication@@@8
	DD	FLAT:??_R3CMSApplication@@8
rdata$r	ENDS
;	COMDAT ??_7CMSApplication@@6B@
CONST	SEGMENT
??_7CMSApplication@@6B@ DD FLAT:??_R4CMSApplication@@6B@ ; CMSApplication::`vftable'
	DD	FLAT:??_ECMSApplication@@UAEPAXI@Z
	DD	FLAT:?WindowProcedure@CMSApplication@@MAEJPAUHWND__@@IIJ@Z
	DD	FLAT:?OnSize@CMSWindow@@UAEXIJ@Z
CONST	ENDS
; Function compile flags: /Odspy
;	COMDAT ??_GCMSApplication@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCMSApplication@@UAEPAXI@Z PROC			; CMSApplication::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??1CMSApplication@@UAE@XZ ; CMSApplication::~CMSApplication
  0000f	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00012	83 e0 01	 and	 eax, 1
  00015	74 0c		 je	 SHORT $LN2@scalar
  00017	6a 1c		 push	 28			; 0000001cH
  00019	ff 75 fc	 push	 DWORD PTR _this$[ebp]
  0001c	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00021	59		 pop	 ecx
  00022	59		 pop	 ecx
$LN2@scalar:
  00023	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00026	c9		 leave
  00027	c2 04 00	 ret	 4
??_GCMSApplication@@UAEPAXI@Z ENDP			; CMSApplication::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
;	COMDAT ?WindowProcedure@CMSApplication@@MAEJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_this$ = -8						; size = 4
tv64 = -4						; size = 4
_hWnd$ = 8						; size = 4
_uiMsg$ = 12						; size = 4
_wParam$ = 16						; size = 4
_lParam$ = 20						; size = 4
?WindowProcedure@CMSApplication@@MAEJPAUHWND__@@IIJ@Z PROC ; CMSApplication::WindowProcedure, COMDAT
; _this$ = ecx

; 47   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	51		 push	 ecx
  00005	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 48   : 	switch (uiMsg)

  00008	8b 45 0c	 mov	 eax, DWORD PTR _uiMsg$[ebp]
  0000b	89 45 fc	 mov	 DWORD PTR tv64[ebp], eax
  0000e	83 7d fc 10	 cmp	 DWORD PTR tv64[ebp], 16	; 00000010H
  00012	74 02		 je	 SHORT $LN4@WindowProc
  00014	eb 08		 jmp	 SHORT $LN2@WindowProc
$LN4@WindowProc:

; 49   : 	{
; 50   : 		case WM_CLOSE:
; 51   : 			PostQuitMessage(0);

  00016	6a 00		 push	 0
  00018	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PostQuitMessage@4
$LN2@WindowProc:

; 52   : 			break;
; 53   : 	}
; 54   : 
; 55   : 	return CMSWindow::WindowProcedure(hWnd, uiMsg, wParam, lParam);

  0001e	ff 75 14	 push	 DWORD PTR _lParam$[ebp]
  00021	ff 75 10	 push	 DWORD PTR _wParam$[ebp]
  00024	ff 75 0c	 push	 DWORD PTR _uiMsg$[ebp]
  00027	ff 75 08	 push	 DWORD PTR _hWnd$[ebp]
  0002a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002d	e8 00 00 00 00	 call	 ?WindowProcedure@CMSWindow@@UAEJPAUHWND__@@IIJ@Z ; CMSWindow::WindowProcedure

; 56   : }

  00032	c9		 leave
  00033	c2 10 00	 ret	 16			; 00000010H
?WindowProcedure@CMSApplication@@MAEJPAUHWND__@@IIJ@Z ENDP ; CMSApplication::WindowProcedure
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
;	COMDAT ?MessageProcess@CMSApplication@@QAE_NXZ
_TEXT	SEGMENT
_msg$ = -32						; size = 28
_this$ = -4						; size = 4
?MessageProcess@CMSApplication@@QAE_NXZ PROC		; CMSApplication::MessageProcess, COMDAT
; _this$ = ecx

; 35   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 36   : 	MSG msg;
; 37   : 
; 38   : 	if (!GetMessage(&msg, NULL, 0, 0))

  00009	6a 00		 push	 0
  0000b	6a 00		 push	 0
  0000d	6a 00		 push	 0
  0000f	8d 45 e0	 lea	 eax, DWORD PTR _msg$[ebp]
  00012	50		 push	 eax
  00013	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetMessageA@16
  00019	85 c0		 test	 eax, eax
  0001b	75 04		 jne	 SHORT $LN2@MessagePro

; 39   : 		return false;

  0001d	32 c0		 xor	 al, al
  0001f	eb 16		 jmp	 SHORT $LN1@MessagePro
$LN2@MessagePro:

; 40   : 
; 41   : 	TranslateMessage(&msg);

  00021	8d 45 e0	 lea	 eax, DWORD PTR _msg$[ebp]
  00024	50		 push	 eax
  00025	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TranslateMessage@4

; 42   : 	DispatchMessage(&msg);

  0002b	8d 45 e0	 lea	 eax, DWORD PTR _msg$[ebp]
  0002e	50		 push	 eax
  0002f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DispatchMessageA@4

; 43   : 	return true;

  00035	b0 01		 mov	 al, 1
$LN1@MessagePro:

; 44   : }

  00037	c9		 leave
  00038	c3		 ret	 0
?MessageProcess@CMSApplication@@QAE_NXZ ENDP		; CMSApplication::MessageProcess
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
;	COMDAT ?IsMessage@CMSApplication@@QAE_NXZ
_TEXT	SEGMENT
_msg$ = -32						; size = 28
_this$ = -4						; size = 4
?IsMessage@CMSApplication@@QAE_NXZ PROC			; CMSApplication::IsMessage, COMDAT
; _this$ = ecx

; 25   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 26   : 	MSG msg;
; 27   : 
; 28   : 	if (!PeekMessage(&msg, NULL, 0, 0, PM_NOREMOVE))

  00009	6a 00		 push	 0
  0000b	6a 00		 push	 0
  0000d	6a 00		 push	 0
  0000f	6a 00		 push	 0
  00011	8d 45 e0	 lea	 eax, DWORD PTR _msg$[ebp]
  00014	50		 push	 eax
  00015	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PeekMessageA@20
  0001b	85 c0		 test	 eax, eax
  0001d	75 04		 jne	 SHORT $LN2@IsMessage

; 29   : 		return false;

  0001f	32 c0		 xor	 al, al
  00021	eb 02		 jmp	 SHORT $LN1@IsMessage
$LN2@IsMessage:

; 30   : 
; 31   : 	return true;

  00023	b0 01		 mov	 al, 1
$LN1@IsMessage:

; 32   : }

  00025	c9		 leave
  00026	c3		 ret	 0
?IsMessage@CMSApplication@@QAE_NXZ ENDP			; CMSApplication::IsMessage
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
;	COMDAT ?MessageLoop@CMSApplication@@QAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?MessageLoop@CMSApplication@@QAEXXZ PROC		; CMSApplication::MessageLoop, COMDAT
; _this$ = ecx

; 20   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
$LN2@MessageLoo:

; 21   : 	while (MessageProcess());

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?MessageProcess@CMSApplication@@QAE_NXZ ; CMSApplication::MessageProcess
  0000f	0f b6 c0	 movzx	 eax, al
  00012	85 c0		 test	 eax, eax
  00014	74 02		 je	 SHORT $LN1@MessageLoo
  00016	eb ef		 jmp	 SHORT $LN2@MessageLoo
$LN1@MessageLoo:

; 22   : }

  00018	c9		 leave
  00019	c3		 ret	 0
?MessageLoop@CMSApplication@@QAEXXZ ENDP		; CMSApplication::MessageLoop
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
;	COMDAT ?Initialize@CMSApplication@@QAEXPAUHINSTANCE__@@@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_hInstance$ = 8						; size = 4
?Initialize@CMSApplication@@QAEXPAUHINSTANCE__@@@Z PROC	; CMSApplication::Initialize, COMDAT
; _this$ = ecx

; 15   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 16   : 	ms_hInstance = hInstance;

  00007	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  0000a	a3 00 00 00 00	 mov	 DWORD PTR ?ms_hInstance@CMSWindow@@1PAUHINSTANCE__@@A, eax ; CMSWindow::ms_hInstance

; 17   : }

  0000f	c9		 leave
  00010	c2 04 00	 ret	 4
?Initialize@CMSApplication@@QAEXPAUHINSTANCE__@@@Z ENDP	; CMSApplication::Initialize
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
;	COMDAT ??1CMSApplication@@UAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CMSApplication@@UAE@XZ PROC				; CMSApplication::~CMSApplication, COMDAT
; _this$ = ecx

; 9    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CMSApplication@@6B@

; 10   : //	for (TWindowClassSet::iterator i=ms_stWCSet.begin(); i!=ms_stWCSet.end(); ++i)
; 11   : //		UnregisterClass(*i, ms_hInstance);
; 12   : }

  00010	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00013	e8 00 00 00 00	 call	 ??1CMSWindow@@UAE@XZ	; CMSWindow::~CMSWindow
  00018	c9		 leave
  00019	c3		 ret	 0
??1CMSApplication@@UAE@XZ ENDP				; CMSApplication::~CMSApplication
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\MSApplication.cpp
;	COMDAT ??0CMSApplication@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CMSApplication@@QAE@XZ PROC				; CMSApplication::CMSApplication, COMDAT
; _this$ = ecx

; 5    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??0CMSWindow@@QAE@XZ	; CMSWindow::CMSWindow
  0000f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00012	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CMSApplication@@6B@

; 6    : }

  00018	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001b	c9		 leave
  0001c	c3		 ret	 0
??0CMSApplication@@QAE@XZ ENDP				; CMSApplication::CMSApplication
_TEXT	ENDS
END
