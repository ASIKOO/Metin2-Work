; Listing generated by Microsoft (R) Optimizing Compiler Version 19.28.29335.0 

	TITLE	D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_H@YGXPAXIIP6EPAX0@Z@Z			; `vector constructor iterator'
PUBLIC	??0CGraphicShadowTexture@@QAE@XZ		; CGraphicShadowTexture::CGraphicShadowTexture
PUBLIC	??1CGraphicShadowTexture@@UAE@XZ		; CGraphicShadowTexture::~CGraphicShadowTexture
PUBLIC	?Destroy@CGraphicShadowTexture@@QAEXXZ		; CGraphicShadowTexture::Destroy
PUBLIC	?Create@CGraphicShadowTexture@@QAE_NHH@Z	; CGraphicShadowTexture::Create
PUBLIC	?Begin@CGraphicShadowTexture@@QAEXXZ		; CGraphicShadowTexture::Begin
PUBLIC	?End@CGraphicShadowTexture@@QAEXXZ		; CGraphicShadowTexture::End
PUBLIC	?Set@CGraphicShadowTexture@@QBEXH@Z		; CGraphicShadowTexture::Set
PUBLIC	?GetLightVPMatrixReference@CGraphicShadowTexture@@QBEABUD3DXMATRIX@@XZ ; CGraphicShadowTexture::GetLightVPMatrixReference
PUBLIC	?GetD3DTexture@CGraphicShadowTexture@@QBEPAUIDirect3DTexture8@@XZ ; CGraphicShadowTexture::GetD3DTexture
PUBLIC	?Initialize@CGraphicShadowTexture@@IAEXXZ	; CGraphicShadowTexture::Initialize
PUBLIC	??_GCGraphicShadowTexture@@UAEPAXI@Z		; CGraphicShadowTexture::`scalar deleting destructor'
PUBLIC	??_7CGraphicShadowTexture@@6B@			; CGraphicShadowTexture::`vftable'
PUBLIC	?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
PUBLIC	??_R4CGraphicShadowTexture@@6B@			; CGraphicShadowTexture::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCGraphicShadowTexture@@@8		; CGraphicShadowTexture `RTTI Type Descriptor'
PUBLIC	??_R3CGraphicShadowTexture@@8			; CGraphicShadowTexture::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CGraphicShadowTexture@@8			; CGraphicShadowTexture::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CGraphicShadowTexture@@8		; CGraphicShadowTexture::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R1A@?0A@EA@CGraphicTexture@@8		; CGraphicTexture::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R0?AVCGraphicTexture@@@8			; CGraphicTexture `RTTI Type Descriptor'
PUBLIC	??_R3CGraphicTexture@@8				; CGraphicTexture::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CGraphicTexture@@8				; CGraphicTexture::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CGraphicBase@@8			; CGraphicBase::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R0?AVCGraphicBase@@@8			; CGraphicBase `RTTI Type Descriptor'
PUBLIC	??_R3CGraphicBase@@8				; CGraphicBase::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CGraphicBase@@8				; CGraphicBase::`RTTI Base Class Array'
PUBLIC	__real@3f800000
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	_D3DXMatrixMultiply@12:PROC
EXTRN	?IsEmpty@CGraphicTexture@@UBE_NXZ:PROC		; CGraphicTexture::IsEmpty
EXTRN	??0CGraphicTexture@@IAE@XZ:PROC			; CGraphicTexture::CGraphicTexture
EXTRN	??1CGraphicTexture@@MAE@XZ:PROC			; CGraphicTexture::~CGraphicTexture
EXTRN	?Destroy@CGraphicTexture@@IAEXXZ:PROC		; CGraphicTexture::Destroy
EXTRN	?Initialize@CGraphicTexture@@IAEXXZ:PROC	; CGraphicTexture::Initialize
EXTRN	??_ECGraphicShadowTexture@@UAEPAXI@Z:PROC	; CGraphicShadowTexture::`vector deleting destructor'
EXTRN	?SaveRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@K@Z:PROC ; CStateManager::SaveRenderState
EXTRN	?RestoreRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@@Z:PROC ; CStateManager::RestoreRenderState
EXTRN	?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z:PROC ; CStateManager::SetTexture
EXTRN	?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z:PROC ; CStateManager::SaveTextureStageState
EXTRN	?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z:PROC ; CStateManager::RestoreTextureStageState
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?ms_matView@CGraphicBase@@1UD3DXMATRIX@@A:BYTE	; CGraphicBase::ms_matView
EXTRN	?ms_matProj@CGraphicBase@@1UD3DXMATRIX@@A:BYTE	; CGraphicBase::ms_matProj
EXTRN	?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A:DWORD ; CGraphicBase::ms_lpd3dDevice
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
;	COMDAT ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A
_BSS	SEGMENT
?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A DD 01H DUP (?) ; CSingleton<CStateManager>::ms_singleton
_BSS	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ??_R2CGraphicBase@@8
rdata$r	SEGMENT
??_R2CGraphicBase@@8 DD FLAT:??_R1A@?0A@EA@CGraphicBase@@8 ; CGraphicBase::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CGraphicBase@@8
rdata$r	SEGMENT
??_R3CGraphicBase@@8 DD 00H				; CGraphicBase::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CGraphicBase@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCGraphicBase@@@8
data$rs	SEGMENT
??_R0?AVCGraphicBase@@@8 DD FLAT:??_7type_info@@6B@	; CGraphicBase `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCGraphicBase@@', 00H
data$rs	ENDS
;	COMDAT ??_R1A@?0A@EA@CGraphicBase@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CGraphicBase@@8 DD FLAT:??_R0?AVCGraphicBase@@@8 ; CGraphicBase::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CGraphicBase@@8
rdata$r	ENDS
;	COMDAT ??_R2CGraphicTexture@@8
rdata$r	SEGMENT
??_R2CGraphicTexture@@8 DD FLAT:??_R1A@?0A@EA@CGraphicTexture@@8 ; CGraphicTexture::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@CGraphicBase@@8
rdata$r	ENDS
;	COMDAT ??_R3CGraphicTexture@@8
rdata$r	SEGMENT
??_R3CGraphicTexture@@8 DD 00H				; CGraphicTexture::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2CGraphicTexture@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCGraphicTexture@@@8
data$rs	SEGMENT
??_R0?AVCGraphicTexture@@@8 DD FLAT:??_7type_info@@6B@	; CGraphicTexture `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCGraphicTexture@@', 00H
data$rs	ENDS
;	COMDAT ??_R1A@?0A@EA@CGraphicTexture@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CGraphicTexture@@8 DD FLAT:??_R0?AVCGraphicTexture@@@8 ; CGraphicTexture::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CGraphicTexture@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@CGraphicShadowTexture@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CGraphicShadowTexture@@8 DD FLAT:??_R0?AVCGraphicShadowTexture@@@8 ; CGraphicShadowTexture::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	02H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CGraphicShadowTexture@@8
rdata$r	ENDS
;	COMDAT ??_R2CGraphicShadowTexture@@8
rdata$r	SEGMENT
??_R2CGraphicShadowTexture@@8 DD FLAT:??_R1A@?0A@EA@CGraphicShadowTexture@@8 ; CGraphicShadowTexture::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@CGraphicTexture@@8
	DD	FLAT:??_R1A@?0A@EA@CGraphicBase@@8
rdata$r	ENDS
;	COMDAT ??_R3CGraphicShadowTexture@@8
rdata$r	SEGMENT
??_R3CGraphicShadowTexture@@8 DD 00H			; CGraphicShadowTexture::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	03H
	DD	FLAT:??_R2CGraphicShadowTexture@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCGraphicShadowTexture@@@8
data$rs	SEGMENT
??_R0?AVCGraphicShadowTexture@@@8 DD FLAT:??_7type_info@@6B@ ; CGraphicShadowTexture `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCGraphicShadowTexture@@', 00H
data$rs	ENDS
;	COMDAT ??_R4CGraphicShadowTexture@@6B@
rdata$r	SEGMENT
??_R4CGraphicShadowTexture@@6B@ DD 00H			; CGraphicShadowTexture::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCGraphicShadowTexture@@@8
	DD	FLAT:??_R3CGraphicShadowTexture@@8
rdata$r	ENDS
;	COMDAT ??_7CGraphicShadowTexture@@6B@
CONST	SEGMENT
??_7CGraphicShadowTexture@@6B@ DD FLAT:??_R4CGraphicShadowTexture@@6B@ ; CGraphicShadowTexture::`vftable'
	DD	FLAT:??_ECGraphicShadowTexture@@UAEPAXI@Z
	DD	FLAT:?IsEmpty@CGraphicTexture@@UBE_NXZ
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??1CGraphicShadowTexture@@UAE@XZ DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$??0CGraphicShadowTexture@@QAE@XZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$??0CGraphicShadowTexture@@QAE@XZ$0
__ehfuncinfo$??0CGraphicShadowTexture@@QAE@XZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$??0CGraphicShadowTexture@@QAE@XZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
; Function compile flags: /Odspy
;	COMDAT ??_GCGraphicShadowTexture@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCGraphicShadowTexture@@UAEPAXI@Z PROC		; CGraphicShadowTexture::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??1CGraphicShadowTexture@@UAE@XZ ; CGraphicShadowTexture::~CGraphicShadowTexture
  0000f	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00012	83 e0 01	 and	 eax, 1
  00015	74 0f		 je	 SHORT $LN2@scalar
  00017	68 80 00 00 00	 push	 128			; 00000080H
  0001c	ff 75 fc	 push	 DWORD PTR _this$[ebp]
  0001f	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00024	59		 pop	 ecx
  00025	59		 pop	 ecx
$LN2@scalar:
  00026	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00029	c9		 leave
  0002a	c2 04 00	 ret	 4
??_GCGraphicShadowTexture@@UAEPAXI@Z ENDP		; CGraphicShadowTexture::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?Initialize@CGraphicShadowTexture@@IAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Initialize@CGraphicShadowTexture@@IAEXXZ PROC		; CGraphicShadowTexture::Initialize, COMDAT
; _this$ = ecx

; 173  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 174  : 	CGraphicTexture::Initialize();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?Initialize@CGraphicTexture@@IAEXXZ ; CGraphicTexture::Initialize

; 175  : 
; 176  : 	m_lpd3dShadowSurface = NULL;

  0000f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00012	83 60 70 00	 and	 DWORD PTR [eax+112], 0

; 177  : 	m_lpd3dDepthSurface = NULL;	

  00016	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00019	83 60 74 00	 and	 DWORD PTR [eax+116], 0

; 178  : 	m_lpd3dOldBackBufferSurface = NULL;

  0001d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00020	83 60 78 00	 and	 DWORD PTR [eax+120], 0

; 179  : 	m_lpd3dOldDepthBufferSurface = NULL;

  00024	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00027	83 60 7c 00	 and	 DWORD PTR [eax+124], 0

; 180  : 	m_lpd3dShadowTexture = NULL;

  0002b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	83 60 6c 00	 and	 DWORD PTR [eax+108], 0

; 181  : }

  00032	c9		 leave
  00033	c3		 ret	 0
?Initialize@CGraphicShadowTexture@@IAEXXZ ENDP		; CGraphicShadowTexture::Initialize
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?GetD3DTexture@CGraphicShadowTexture@@QBEPAUIDirect3DTexture8@@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetD3DTexture@CGraphicShadowTexture@@QBEPAUIDirect3DTexture8@@XZ PROC ; CGraphicShadowTexture::GetD3DTexture, COMDAT
; _this$ = ecx

; 61   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 62   : 	return m_lpd3dShadowTexture;

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	8b 40 6c	 mov	 eax, DWORD PTR [eax+108]

; 63   : }

  0000d	c9		 leave
  0000e	c3		 ret	 0
?GetD3DTexture@CGraphicShadowTexture@@QBEPAUIDirect3DTexture8@@XZ ENDP ; CGraphicShadowTexture::GetD3DTexture
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?GetLightVPMatrixReference@CGraphicShadowTexture@@QBEABUD3DXMATRIX@@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetLightVPMatrixReference@CGraphicShadowTexture@@QBEABUD3DXMATRIX@@XZ PROC ; CGraphicShadowTexture::GetLightVPMatrixReference, COMDAT
; _this$ = ecx

; 56   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 57   : 	return m_d3dLightVPMatrix;

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	83 c0 14	 add	 eax, 20			; 00000014H

; 58   : }

  0000d	c9		 leave
  0000e	c3		 ret	 0
?GetLightVPMatrixReference@CGraphicShadowTexture@@QBEABUD3DXMATRIX@@XZ ENDP ; CGraphicShadowTexture::GetLightVPMatrixReference
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?Set@CGraphicShadowTexture@@QBEXH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_stage$ = 8						; size = 4
?Set@CGraphicShadowTexture@@QBEXH@Z PROC		; CGraphicShadowTexture::Set, COMDAT
; _this$ = ecx

; 51   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 52   : 	STATEMANAGER.SetTexture(stage, m_lpd3dShadowTexture);

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	ff 70 6c	 push	 DWORD PTR [eax+108]
  0000d	ff 75 08	 push	 DWORD PTR _stage$[ebp]
  00010	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00016	e8 00 00 00 00	 call	 ?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z ; CStateManager::SetTexture

; 53   : }

  0001b	c9		 leave
  0001c	c2 04 00	 ret	 4
?Set@CGraphicShadowTexture@@QBEXH@Z ENDP		; CGraphicShadowTexture::Set
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?End@CGraphicShadowTexture@@QAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?End@CGraphicShadowTexture@@QAEXXZ PROC			; CGraphicShadowTexture::End, COMDAT
; _this$ = ecx

; 124  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 125  : 	assert(m_lpd3dOldBackBufferSurface != NULL);
; 126  : 	assert(m_lpd3dOldDepthBufferSurface != NULL);
; 127  : 
; 128  : 	ms_lpd3dDevice->EndScene();	

  00007	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  0000c	8b 00		 mov	 eax, DWORD PTR [eax]
  0000e	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00014	ff 90 8c 00 00
	00		 call	 DWORD PTR [eax+140]

; 129  : 
; 130  : 	ms_lpd3dDevice->SetRenderTarget(m_lpd3dOldBackBufferSurface, m_lpd3dOldDepthBufferSurface);			

  0001a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001d	ff 70 7c	 push	 DWORD PTR [eax+124]
  00020	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00023	ff 70 78	 push	 DWORD PTR [eax+120]
  00026	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  0002b	8b 00		 mov	 eax, DWORD PTR [eax]
  0002d	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00033	ff 50 7c	 call	 DWORD PTR [eax+124]

; 131  : 	ms_lpd3dDevice->SetViewport(&m_d3dOldViewport);

  00036	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00039	83 c0 54	 add	 eax, 84			; 00000054H
  0003c	50		 push	 eax
  0003d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00042	8b 00		 mov	 eax, DWORD PTR [eax]
  00044	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  0004a	ff 90 a0 00 00
	00		 call	 DWORD PTR [eax+160]

; 132  : 
; 133  : 	m_lpd3dOldBackBufferSurface->Release();		

  00050	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00053	8b 40 78	 mov	 eax, DWORD PTR [eax+120]
  00056	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00059	8b 00		 mov	 eax, DWORD PTR [eax]
  0005b	ff 71 78	 push	 DWORD PTR [ecx+120]
  0005e	ff 50 08	 call	 DWORD PTR [eax+8]

; 134  : 	m_lpd3dOldDepthBufferSurface->Release();	

  00061	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00064	8b 40 7c	 mov	 eax, DWORD PTR [eax+124]
  00067	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0006a	8b 00		 mov	 eax, DWORD PTR [eax]
  0006c	ff 71 7c	 push	 DWORD PTR [ecx+124]
  0006f	ff 50 08	 call	 DWORD PTR [eax+8]

; 135  : 
; 136  : 	m_lpd3dOldBackBufferSurface = NULL;

  00072	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00075	83 60 78 00	 and	 DWORD PTR [eax+120], 0

; 137  : 	m_lpd3dOldDepthBufferSurface = NULL;

  00079	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0007c	83 60 7c 00	 and	 DWORD PTR [eax+124], 0

; 138  : 
; 139  : 	STATEMANAGER.RestoreRenderState(D3DRS_CULLMODE);

  00080	6a 16		 push	 22			; 00000016H
  00082	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00088	e8 00 00 00 00	 call	 ?RestoreRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@@Z ; CStateManager::RestoreRenderState

; 140  : 	STATEMANAGER.RestoreRenderState(D3DRS_ZFUNC);

  0008d	6a 17		 push	 23			; 00000017H
  0008f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00095	e8 00 00 00 00	 call	 ?RestoreRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@@Z ; CStateManager::RestoreRenderState

; 141  : 	STATEMANAGER.RestoreRenderState(D3DRS_ALPHABLENDENABLE);

  0009a	6a 1b		 push	 27			; 0000001bH
  0009c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000a2	e8 00 00 00 00	 call	 ?RestoreRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@@Z ; CStateManager::RestoreRenderState

; 142  : 	STATEMANAGER.RestoreRenderState(D3DRS_ALPHATESTENABLE);

  000a7	6a 0f		 push	 15			; 0000000fH
  000a9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000af	e8 00 00 00 00	 call	 ?RestoreRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@@Z ; CStateManager::RestoreRenderState

; 143  : 	STATEMANAGER.RestoreRenderState(D3DRS_TEXTUREFACTOR);

  000b4	6a 3c		 push	 60			; 0000003cH
  000b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000bc	e8 00 00 00 00	 call	 ?RestoreRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@@Z ; CStateManager::RestoreRenderState

; 144  : 
; 145  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_COLORARG1);

  000c1	6a 02		 push	 2
  000c3	6a 00		 push	 0
  000c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000cb	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 146  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_COLORARG2);

  000d0	6a 03		 push	 3
  000d2	6a 00		 push	 0
  000d4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000da	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 147  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_COLOROP);

  000df	6a 01		 push	 1
  000e1	6a 00		 push	 0
  000e3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000e9	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 148  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_ALPHAARG1);

  000ee	6a 05		 push	 5
  000f0	6a 00		 push	 0
  000f2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000f8	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 149  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_ALPHAARG2);

  000fd	6a 06		 push	 6
  000ff	6a 00		 push	 0
  00101	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00107	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 150  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_ALPHAOP);

  0010c	6a 04		 push	 4
  0010e	6a 00		 push	 0
  00110	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00116	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 151  : 
; 152  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_MINFILTER);

  0011b	6a 11		 push	 17			; 00000011H
  0011d	6a 00		 push	 0
  0011f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00125	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 153  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_MAGFILTER);

  0012a	6a 10		 push	 16			; 00000010H
  0012c	6a 00		 push	 0
  0012e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00134	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 154  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_MIPFILTER);

  00139	6a 12		 push	 18			; 00000012H
  0013b	6a 00		 push	 0
  0013d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00143	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 155  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_ADDRESSU);

  00148	6a 0d		 push	 13			; 0000000dH
  0014a	6a 00		 push	 0
  0014c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00152	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 156  : 	STATEMANAGER.RestoreTextureStageState(0, D3DTSS_ADDRESSV);

  00157	6a 0e		 push	 14			; 0000000eH
  00159	6a 00		 push	 0
  0015b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00161	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 157  : 
; 158  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_COLORARG1);

  00166	6a 02		 push	 2
  00168	6a 01		 push	 1
  0016a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00170	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 159  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_COLORARG2);

  00175	6a 03		 push	 3
  00177	6a 01		 push	 1
  00179	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0017f	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 160  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_COLOROP);

  00184	6a 01		 push	 1
  00186	6a 01		 push	 1
  00188	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0018e	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 161  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_ALPHAARG1);

  00193	6a 05		 push	 5
  00195	6a 01		 push	 1
  00197	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0019d	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 162  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_ALPHAARG2);

  001a2	6a 06		 push	 6
  001a4	6a 01		 push	 1
  001a6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001ac	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 163  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_ALPHAOP);

  001b1	6a 04		 push	 4
  001b3	6a 01		 push	 1
  001b5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001bb	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 164  : 
; 165  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_MINFILTER);

  001c0	6a 11		 push	 17			; 00000011H
  001c2	6a 01		 push	 1
  001c4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001ca	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 166  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_MAGFILTER);

  001cf	6a 10		 push	 16			; 00000010H
  001d1	6a 01		 push	 1
  001d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001d9	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 167  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_MIPFILTER);

  001de	6a 12		 push	 18			; 00000012H
  001e0	6a 01		 push	 1
  001e2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001e8	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 168  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_ADDRESSU);

  001ed	6a 0d		 push	 13			; 0000000dH
  001ef	6a 01		 push	 1
  001f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001f7	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 169  : 	STATEMANAGER.RestoreTextureStageState(1, D3DTSS_ADDRESSV);

  001fc	6a 0e		 push	 14			; 0000000eH
  001fe	6a 01		 push	 1
  00200	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00206	e8 00 00 00 00	 call	 ?RestoreTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@@Z ; CStateManager::RestoreTextureStageState

; 170  : }

  0020b	c9		 leave
  0020c	c3		 ret	 0
?End@CGraphicShadowTexture@@QAEXXZ ENDP			; CGraphicShadowTexture::End
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?Begin@CGraphicShadowTexture@@QAEXXZ
_TEXT	SEGMENT
_this$ = -32						; size = 4
_d3dViewport$ = -28					; size = 24
__$ArrayPad$ = -4					; size = 4
?Begin@CGraphicShadowTexture@@QAEXXZ PROC		; CGraphicShadowTexture::Begin, COMDAT
; _this$ = ecx

; 66   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	89 4d e0	 mov	 DWORD PTR _this$[ebp], ecx

; 67   : 	D3DXMatrixMultiply(&m_d3dLightVPMatrix, &ms_matView, &ms_matProj);

  00013	68 00 00 00 00	 push	 OFFSET ?ms_matProj@CGraphicBase@@1UD3DXMATRIX@@A ; CGraphicBase::ms_matProj
  00018	68 00 00 00 00	 push	 OFFSET ?ms_matView@CGraphicBase@@1UD3DXMATRIX@@A ; CGraphicBase::ms_matView
  0001d	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  00020	83 c0 14	 add	 eax, 20			; 00000014H
  00023	50		 push	 eax
  00024	e8 00 00 00 00	 call	 _D3DXMatrixMultiply@12

; 68   : 
; 69   : 	ms_lpd3dDevice->GetRenderTarget(&m_lpd3dOldBackBufferSurface);

  00029	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  0002c	83 c0 78	 add	 eax, 120		; 00000078H
  0002f	50		 push	 eax
  00030	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00035	8b 00		 mov	 eax, DWORD PTR [eax]
  00037	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  0003d	ff 90 80 00 00
	00		 call	 DWORD PTR [eax+128]

; 70   : 	ms_lpd3dDevice->GetDepthStencilSurface(&m_lpd3dOldDepthBufferSurface);

  00043	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  00046	83 c0 7c	 add	 eax, 124		; 0000007cH
  00049	50		 push	 eax
  0004a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  0004f	8b 00		 mov	 eax, DWORD PTR [eax]
  00051	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00057	ff 90 84 00 00
	00		 call	 DWORD PTR [eax+132]

; 71   : 	ms_lpd3dDevice->GetViewport(&m_d3dOldViewport);

  0005d	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  00060	83 c0 54	 add	 eax, 84			; 00000054H
  00063	50		 push	 eax
  00064	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00069	8b 00		 mov	 eax, DWORD PTR [eax]
  0006b	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00071	ff 90 a4 00 00
	00		 call	 DWORD PTR [eax+164]

; 72   : 
; 73   : 	ms_lpd3dDevice->SetRenderTarget(m_lpd3dShadowSurface, m_lpd3dDepthSurface);

  00077	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  0007a	ff 70 74	 push	 DWORD PTR [eax+116]
  0007d	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  00080	ff 70 70	 push	 DWORD PTR [eax+112]
  00083	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00088	8b 00		 mov	 eax, DWORD PTR [eax]
  0008a	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00090	ff 50 7c	 call	 DWORD PTR [eax+124]

; 74   : 
; 75   : 	D3DVIEWPORT8 d3dViewport;
; 76   : 	d3dViewport.MinZ = 0.0f;

  00093	0f 57 c0	 xorps	 xmm0, xmm0
  00096	f3 0f 11 45 f4	 movss	 DWORD PTR _d3dViewport$[ebp+16], xmm0

; 77   : 	d3dViewport.MaxZ = 1.0f;

  0009b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000a3	f3 0f 11 45 f8	 movss	 DWORD PTR _d3dViewport$[ebp+20], xmm0

; 78   : 	d3dViewport.X = 0;

  000a8	83 65 e4 00	 and	 DWORD PTR _d3dViewport$[ebp], 0

; 79   : 	d3dViewport.Y = 0;

  000ac	83 65 e8 00	 and	 DWORD PTR _d3dViewport$[ebp+4], 0

; 80   : 	d3dViewport.Width = m_width;

  000b0	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  000b3	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000b6	89 45 ec	 mov	 DWORD PTR _d3dViewport$[ebp+8], eax

; 81   : 	d3dViewport.Height = m_height;

  000b9	8b 45 e0	 mov	 eax, DWORD PTR _this$[ebp]
  000bc	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  000bf	89 45 f0	 mov	 DWORD PTR _d3dViewport$[ebp+12], eax

; 82   : 
; 83   : 	ms_lpd3dDevice->SetViewport(&d3dViewport);

  000c2	8d 45 e4	 lea	 eax, DWORD PTR _d3dViewport$[ebp]
  000c5	50		 push	 eax
  000c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  000cb	8b 00		 mov	 eax, DWORD PTR [eax]
  000cd	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  000d3	ff 90 a0 00 00
	00		 call	 DWORD PTR [eax+160]

; 84   : 	ms_lpd3dDevice->BeginScene();

  000d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  000de	8b 00		 mov	 eax, DWORD PTR [eax]
  000e0	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  000e6	ff 90 88 00 00
	00		 call	 DWORD PTR [eax+136]

; 85   : 
; 86   : 	ms_lpd3dDevice->Clear(0L, NULL, D3DCLEAR_TARGET|D3DCLEAR_ZBUFFER, 0x00000000, 1.0f, 0L);

  000ec	6a 00		 push	 0
  000ee	51		 push	 ecx
  000ef	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000f7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000fc	6a 00		 push	 0
  000fe	6a 03		 push	 3
  00100	6a 00		 push	 0
  00102	6a 00		 push	 0
  00104	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00109	8b 00		 mov	 eax, DWORD PTR [eax]
  0010b	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00111	ff 90 90 00 00
	00		 call	 DWORD PTR [eax+144]

; 87   : 
; 88   : 	STATEMANAGER.SaveRenderState(D3DRS_CULLMODE, D3DCULL_NONE);

  00117	6a 01		 push	 1
  00119	6a 16		 push	 22			; 00000016H
  0011b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00121	e8 00 00 00 00	 call	 ?SaveRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@K@Z ; CStateManager::SaveRenderState

; 89   : 	STATEMANAGER.SaveRenderState(D3DRS_ZFUNC, D3DCMP_LESSEQUAL);

  00126	6a 04		 push	 4
  00128	6a 17		 push	 23			; 00000017H
  0012a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00130	e8 00 00 00 00	 call	 ?SaveRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@K@Z ; CStateManager::SaveRenderState

; 90   : 	STATEMANAGER.SaveRenderState(D3DRS_ALPHABLENDENABLE, true);

  00135	6a 01		 push	 1
  00137	6a 1b		 push	 27			; 0000001bH
  00139	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0013f	e8 00 00 00 00	 call	 ?SaveRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@K@Z ; CStateManager::SaveRenderState

; 91   : 	STATEMANAGER.SaveRenderState(D3DRS_ALPHATESTENABLE, true);

  00144	6a 01		 push	 1
  00146	6a 0f		 push	 15			; 0000000fH
  00148	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0014e	e8 00 00 00 00	 call	 ?SaveRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@K@Z ; CStateManager::SaveRenderState

; 92   : 	STATEMANAGER.SaveRenderState(D3DRS_TEXTUREFACTOR, 0xbb000000);

  00153	68 00 00 00 bb	 push	 -1157627904		; bb000000H
  00158	6a 3c		 push	 60			; 0000003cH
  0015a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00160	e8 00 00 00 00	 call	 ?SaveRenderState@CStateManager@@QAEXW4_D3DRENDERSTATETYPE@@K@Z ; CStateManager::SaveRenderState

; 93   : 
; 94   : 	STATEMANAGER.SetTexture(0, NULL);

  00165	6a 00		 push	 0
  00167	6a 00		 push	 0
  00169	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0016f	e8 00 00 00 00	 call	 ?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z ; CStateManager::SetTexture

; 95   : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_COLORARG1, D3DTA_TFACTOR);

  00174	6a 03		 push	 3
  00176	6a 02		 push	 2
  00178	6a 00		 push	 0
  0017a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00180	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 96   : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_COLORARG2, D3DTA_TEXTURE);

  00185	6a 02		 push	 2
  00187	6a 03		 push	 3
  00189	6a 00		 push	 0
  0018b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00191	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 97   : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_COLOROP,   D3DTOP_MODULATE);

  00196	6a 04		 push	 4
  00198	6a 01		 push	 1
  0019a	6a 00		 push	 0
  0019c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001a2	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 98   : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_ALPHAARG1, D3DTA_TFACTOR);

  001a7	6a 03		 push	 3
  001a9	6a 05		 push	 5
  001ab	6a 00		 push	 0
  001ad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001b3	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 99   : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_ALPHAARG2, D3DTA_TEXTURE);

  001b8	6a 02		 push	 2
  001ba	6a 06		 push	 6
  001bc	6a 00		 push	 0
  001be	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001c4	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 100  : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_ALPHAOP,   D3DTOP_MODULATE);

  001c9	6a 04		 push	 4
  001cb	6a 04		 push	 4
  001cd	6a 00		 push	 0
  001cf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001d5	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 101  : 
; 102  : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_MINFILTER, D3DTEXF_POINT);

  001da	6a 01		 push	 1
  001dc	6a 11		 push	 17			; 00000011H
  001de	6a 00		 push	 0
  001e0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001e6	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 103  : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_MAGFILTER, D3DTEXF_POINT);

  001eb	6a 01		 push	 1
  001ed	6a 10		 push	 16			; 00000010H
  001ef	6a 00		 push	 0
  001f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  001f7	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 104  : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_MIPFILTER, D3DTEXF_POINT);

  001fc	6a 01		 push	 1
  001fe	6a 12		 push	 18			; 00000012H
  00200	6a 00		 push	 0
  00202	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00208	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 105  : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_ADDRESSU, D3DTADDRESS_CLAMP);

  0020d	6a 03		 push	 3
  0020f	6a 0d		 push	 13			; 0000000dH
  00211	6a 00		 push	 0
  00213	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00219	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 106  : 	STATEMANAGER.SaveTextureStageState(0, D3DTSS_ADDRESSV, D3DTADDRESS_CLAMP);

  0021e	6a 03		 push	 3
  00220	6a 0e		 push	 14			; 0000000eH
  00222	6a 00		 push	 0
  00224	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0022a	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 107  : 
; 108  : 	STATEMANAGER.SetTexture(1, NULL);

  0022f	6a 00		 push	 0
  00231	6a 01		 push	 1
  00233	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00239	e8 00 00 00 00	 call	 ?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z ; CStateManager::SetTexture

; 109  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_COLORARG1, D3DTA_CURRENT);

  0023e	6a 01		 push	 1
  00240	6a 02		 push	 2
  00242	6a 01		 push	 1
  00244	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0024a	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 110  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_COLORARG2, D3DTA_TEXTURE);

  0024f	6a 02		 push	 2
  00251	6a 03		 push	 3
  00253	6a 01		 push	 1
  00255	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0025b	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 111  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_COLOROP,   D3DTOP_SELECTARG1);

  00260	6a 02		 push	 2
  00262	6a 01		 push	 1
  00264	6a 01		 push	 1
  00266	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0026c	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 112  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_ALPHAARG1, D3DTA_CURRENT);

  00271	6a 01		 push	 1
  00273	6a 05		 push	 5
  00275	6a 01		 push	 1
  00277	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0027d	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 113  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_ALPHAARG2, D3DTA_TEXTURE);

  00282	6a 02		 push	 2
  00284	6a 06		 push	 6
  00286	6a 01		 push	 1
  00288	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0028e	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 114  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_ALPHAOP,   D3DTOP_SELECTARG1);

  00293	6a 02		 push	 2
  00295	6a 04		 push	 4
  00297	6a 01		 push	 1
  00299	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0029f	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 115  : 
; 116  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_MINFILTER, D3DTEXF_POINT);

  002a4	6a 01		 push	 1
  002a6	6a 11		 push	 17			; 00000011H
  002a8	6a 01		 push	 1
  002aa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  002b0	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 117  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_MAGFILTER, D3DTEXF_POINT);

  002b5	6a 01		 push	 1
  002b7	6a 10		 push	 16			; 00000010H
  002b9	6a 01		 push	 1
  002bb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  002c1	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 118  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_MIPFILTER, D3DTEXF_POINT);

  002c6	6a 01		 push	 1
  002c8	6a 12		 push	 18			; 00000012H
  002ca	6a 01		 push	 1
  002cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  002d2	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 119  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_ADDRESSU, D3DTADDRESS_CLAMP);

  002d7	6a 03		 push	 3
  002d9	6a 0d		 push	 13			; 0000000dH
  002db	6a 01		 push	 1
  002dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  002e3	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 120  : 	STATEMANAGER.SaveTextureStageState(1, D3DTSS_ADDRESSV, D3DTADDRESS_CLAMP);

  002e8	6a 03		 push	 3
  002ea	6a 0e		 push	 14			; 0000000eH
  002ec	6a 01		 push	 1
  002ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  002f4	e8 00 00 00 00	 call	 ?SaveTextureStageState@CStateManager@@QAEXKW4_D3DTEXTURESTAGESTATETYPE@@K@Z ; CStateManager::SaveTextureStageState

; 121  : }

  002f9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002fc	33 cd		 xor	 ecx, ebp
  002fe	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00303	c9		 leave
  00304	c3		 ret	 0
?Begin@CGraphicShadowTexture@@QAEXXZ ENDP		; CGraphicShadowTexture::Begin
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?Create@CGraphicShadowTexture@@QAE_NHH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_width$ = 8						; size = 4
_height$ = 12						; size = 4
?Create@CGraphicShadowTexture@@QAE_NHH@Z PROC		; CGraphicShadowTexture::Create, COMDAT
; _this$ = ecx

; 32   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 33   : 	Destroy();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?Destroy@CGraphicShadowTexture@@QAEXXZ ; CGraphicShadowTexture::Destroy

; 34   : 
; 35   : 	m_width = width;

  0000f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00012	8b 4d 08	 mov	 ecx, DWORD PTR _width$[ebp]
  00015	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 36   : 	m_height = height;

  00018	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001b	8b 4d 0c	 mov	 ecx, DWORD PTR _height$[ebp]
  0001e	89 48 0c	 mov	 DWORD PTR [eax+12], ecx

; 37   : 
; 38   : 	if (FAILED(ms_lpd3dDevice->CreateTexture(m_width, m_height, 1, D3DUSAGE_RENDERTARGET, D3DFMT_A8R8G8B8, D3DPOOL_DEFAULT, &m_lpd3dShadowTexture)))

  00021	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00024	83 c0 6c	 add	 eax, 108		; 0000006cH
  00027	50		 push	 eax
  00028	6a 00		 push	 0
  0002a	6a 15		 push	 21			; 00000015H
  0002c	6a 01		 push	 1
  0002e	6a 01		 push	 1
  00030	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00033	ff 70 0c	 push	 DWORD PTR [eax+12]
  00036	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00039	ff 70 08	 push	 DWORD PTR [eax+8]
  0003c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00041	8b 00		 mov	 eax, DWORD PTR [eax]
  00043	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00049	ff 50 50	 call	 DWORD PTR [eax+80]
  0004c	85 c0		 test	 eax, eax
  0004e	7d 04		 jge	 SHORT $LN2@Create

; 39   : 		return false;

  00050	32 c0		 xor	 al, al
  00052	eb 53		 jmp	 SHORT $LN1@Create
$LN2@Create:

; 40   : 
; 41   : 	if (FAILED(m_lpd3dShadowTexture->GetSurfaceLevel(0, &m_lpd3dShadowSurface)))

  00054	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00057	83 c0 70	 add	 eax, 112		; 00000070H
  0005a	50		 push	 eax
  0005b	6a 00		 push	 0
  0005d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00060	8b 40 6c	 mov	 eax, DWORD PTR [eax+108]
  00063	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00066	8b 00		 mov	 eax, DWORD PTR [eax]
  00068	ff 71 6c	 push	 DWORD PTR [ecx+108]
  0006b	ff 50 3c	 call	 DWORD PTR [eax+60]
  0006e	85 c0		 test	 eax, eax
  00070	7d 04		 jge	 SHORT $LN3@Create

; 42   : 		return false;

  00072	32 c0		 xor	 al, al
  00074	eb 31		 jmp	 SHORT $LN1@Create
$LN3@Create:

; 43   : 
; 44   : 	if (FAILED(ms_lpd3dDevice->CreateDepthStencilSurface(m_width, m_height, D3DFMT_D16, D3DMULTISAMPLE_NONE, &m_lpd3dDepthSurface)))

  00076	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00079	83 c0 74	 add	 eax, 116		; 00000074H
  0007c	50		 push	 eax
  0007d	6a 00		 push	 0
  0007f	6a 50		 push	 80			; 00000050H
  00081	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00084	ff 70 0c	 push	 DWORD PTR [eax+12]
  00087	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0008a	ff 70 08	 push	 DWORD PTR [eax+8]
  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  00092	8b 00		 mov	 eax, DWORD PTR [eax]
  00094	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_lpd3dDevice@CGraphicBase@@1PAUIDirect3DDevice8@@A ; CGraphicBase::ms_lpd3dDevice
  0009a	ff 50 68	 call	 DWORD PTR [eax+104]
  0009d	85 c0		 test	 eax, eax
  0009f	7d 04		 jge	 SHORT $LN4@Create

; 45   : 		return false;

  000a1	32 c0		 xor	 al, al
  000a3	eb 02		 jmp	 SHORT $LN1@Create
$LN4@Create:

; 46   : 
; 47   : 	return true;

  000a5	b0 01		 mov	 al, 1
$LN1@Create:

; 48   : }

  000a7	c9		 leave
  000a8	c2 08 00	 ret	 8
?Create@CGraphicShadowTexture@@QAE_NHH@Z ENDP		; CGraphicShadowTexture::Create
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ?Destroy@CGraphicShadowTexture@@QAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Destroy@CGraphicShadowTexture@@QAEXXZ PROC		; CGraphicShadowTexture::Destroy, COMDAT
; _this$ = ecx

; 7    : {	

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 8    : 	CGraphicTexture::Destroy();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?Destroy@CGraphicTexture@@IAEXXZ ; CGraphicTexture::Destroy

; 9    : 
; 10   : 	if (m_lpd3dShadowSurface)

  0000f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00012	83 78 70 00	 cmp	 DWORD PTR [eax+112], 0
  00016	74 18		 je	 SHORT $LN2@Destroy

; 11   : 	{
; 12   : 		m_lpd3dShadowSurface->Release();

  00018	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001b	8b 40 70	 mov	 eax, DWORD PTR [eax+112]
  0001e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00021	8b 00		 mov	 eax, DWORD PTR [eax]
  00023	ff 71 70	 push	 DWORD PTR [ecx+112]
  00026	ff 50 08	 call	 DWORD PTR [eax+8]

; 13   : 		m_lpd3dShadowSurface = NULL;

  00029	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002c	83 60 70 00	 and	 DWORD PTR [eax+112], 0
$LN2@Destroy:

; 14   : 	}
; 15   : 
; 16   : 	if (m_lpd3dDepthSurface)

  00030	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00033	83 78 74 00	 cmp	 DWORD PTR [eax+116], 0
  00037	74 18		 je	 SHORT $LN3@Destroy

; 17   : 	{
; 18   : 		m_lpd3dDepthSurface->Release();

  00039	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003c	8b 40 74	 mov	 eax, DWORD PTR [eax+116]
  0003f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00042	8b 00		 mov	 eax, DWORD PTR [eax]
  00044	ff 71 74	 push	 DWORD PTR [ecx+116]
  00047	ff 50 08	 call	 DWORD PTR [eax+8]

; 19   : 		m_lpd3dDepthSurface = NULL;

  0004a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004d	83 60 74 00	 and	 DWORD PTR [eax+116], 0
$LN3@Destroy:

; 20   : 	}
; 21   : 
; 22   : 	if (m_lpd3dShadowTexture)

  00051	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00054	83 78 6c 00	 cmp	 DWORD PTR [eax+108], 0
  00058	74 18		 je	 SHORT $LN4@Destroy

; 23   : 	{
; 24   : 		m_lpd3dShadowTexture->Release();

  0005a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0005d	8b 40 6c	 mov	 eax, DWORD PTR [eax+108]
  00060	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00063	8b 00		 mov	 eax, DWORD PTR [eax]
  00065	ff 71 6c	 push	 DWORD PTR [ecx+108]
  00068	ff 50 08	 call	 DWORD PTR [eax+8]

; 25   : 		m_lpd3dShadowTexture = NULL;

  0006b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0006e	83 60 6c 00	 and	 DWORD PTR [eax+108], 0
$LN4@Destroy:

; 26   : 	}
; 27   : 
; 28   : 	Initialize();

  00072	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00075	e8 00 00 00 00	 call	 ?Initialize@CGraphicShadowTexture@@IAEXXZ ; CGraphicShadowTexture::Initialize

; 29   : }

  0007a	c9		 leave
  0007b	c3		 ret	 0
?Destroy@CGraphicShadowTexture@@QAEXXZ ENDP		; CGraphicShadowTexture::Destroy
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ??1CGraphicShadowTexture@@UAE@XZ
_TEXT	SEGMENT
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
??1CGraphicShadowTexture@@UAE@XZ PROC			; CGraphicShadowTexture::~CGraphicShadowTexture, COMDAT
; _this$ = ecx

; 189  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??1CGraphicShadowTexture@@UAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00017	33 c5		 xor	 eax, ebp
  00019	50		 push	 eax
  0001a	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001d	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00023	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx
  00026	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00029	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CGraphicShadowTexture@@6B@

; 190  : 	Destroy();

  0002f	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00032	e8 00 00 00 00	 call	 ?Destroy@CGraphicShadowTexture@@QAEXXZ ; CGraphicShadowTexture::Destroy

; 191  : }

  00037	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  0003a	e8 00 00 00 00	 call	 ??1CGraphicTexture@@MAE@XZ ; CGraphicTexture::~CGraphicTexture
  0003f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00042	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00049	59		 pop	 ecx
  0004a	c9		 leave
  0004b	c3		 ret	 0
  0004c	cc		 int	 3
  0004d	cc		 int	 3
  0004e	cc		 int	 3
  0004f	cc		 int	 3
  00050	cc		 int	 3
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??1CGraphicShadowTexture@@UAE@XZ:
  00000	90		 npad	 1
  00001	90		 npad	 1
  00002	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00006	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00009	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  0000c	33 c8		 xor	 ecx, eax
  0000e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00013	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??1CGraphicShadowTexture@@UAE@XZ
  00018	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??1CGraphicShadowTexture@@UAE@XZ ENDP			; CGraphicShadowTexture::~CGraphicShadowTexture
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\EterLib\GrpShadowTexture.cpp
;	COMDAT ??0CGraphicShadowTexture@@QAE@XZ
_TEXT	SEGMENT
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
??0CGraphicShadowTexture@@QAE@XZ PROC			; CGraphicShadowTexture::CGraphicShadowTexture, COMDAT
; _this$ = ecx

; 184  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??0CGraphicShadowTexture@@QAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00017	33 c5		 xor	 eax, ebp
  00019	50		 push	 eax
  0001a	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001d	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00023	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx
  00026	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00029	e8 00 00 00 00	 call	 ??0CGraphicTexture@@IAE@XZ ; CGraphicTexture::CGraphicTexture
  0002e	83 65 fc 00	 and	 DWORD PTR __$EHRec$[ebp+8], 0
  00032	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00035	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CGraphicShadowTexture@@6B@

; 185  : 	Initialize();

  0003b	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  0003e	e8 00 00 00 00	 call	 ?Initialize@CGraphicShadowTexture@@IAEXXZ ; CGraphicShadowTexture::Initialize

; 186  : }

  00043	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  00047	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0004d	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00054	59		 pop	 ecx
  00055	c9		 leave
  00056	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$??0CGraphicShadowTexture@@QAE@XZ$0:
  00000	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CGraphicTexture@@MAE@XZ ; CGraphicTexture::~CGraphicTexture
  00008	cc		 int	 3
  00009	cc		 int	 3
  0000a	cc		 int	 3
  0000b	cc		 int	 3
  0000c	cc		 int	 3
__ehhandler$??0CGraphicShadowTexture@@QAE@XZ:
  0000d	90		 npad	 1
  0000e	90		 npad	 1
  0000f	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00013	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00016	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??0CGraphicShadowTexture@@QAE@XZ
  00025	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??0CGraphicShadowTexture@@QAE@XZ ENDP			; CGraphicShadowTexture::CGraphicShadowTexture
; Function compile flags: /Odspy
;	COMDAT ??_H@YGXPAXIIP6EPAX0@Z@Z
_TEXT	SEGMENT
tv66 = -4						; size = 4
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIIP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
$LN2@vector:
  00004	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  00007	89 45 fc	 mov	 DWORD PTR tv66[ebp], eax
  0000a	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000d	48		 dec	 eax
  0000e	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00011	83 7d fc 00	 cmp	 DWORD PTR tv66[ebp], 0
  00015	76 11		 jbe	 SHORT $LN1@vector
  00017	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  0001a	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001d	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  00020	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00023	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00026	eb dc		 jmp	 SHORT $LN2@vector
$LN1@vector:
  00028	c9		 leave
  00029	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIIP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
END
