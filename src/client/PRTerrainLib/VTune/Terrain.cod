; Listing generated by Microsoft (R) Optimizing Compiler Version 19.28.29335.0 

	TITLE	D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?ms_pTextureSet@CTerrainImpl@@1PAVCTextureSet@@A ; CTerrainImpl::ms_pTextureSet
_BSS	SEGMENT
?ms_pTextureSet@CTerrainImpl@@1PAVCTextureSet@@A DD 01H DUP (?) ; CTerrainImpl::ms_pTextureSet
_BSS	ENDS
PUBLIC	?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z ; CTerrainImpl::SetTextureSet
PUBLIC	?GetTextureSet@CTerrainImpl@@SAPAVCTextureSet@@XZ ; CTerrainImpl::GetTextureSet
PUBLIC	??0CTerrainImpl@@QAE@XZ				; CTerrainImpl::CTerrainImpl
PUBLIC	??1CTerrainImpl@@UAE@XZ				; CTerrainImpl::~CTerrainImpl
PUBLIC	?LoadWaterMap@CTerrainImpl@@QAE_NPBD@Z		; CTerrainImpl::LoadWaterMap
PUBLIC	?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z	; CTerrainImpl::LoadWaterMapFile
PUBLIC	?GetShadowMapColor@CTerrainImpl@@QAEKMM@Z	; CTerrainImpl::GetShadowMapColor
PUBLIC	?Initialize@CTerrainImpl@@IAEXXZ		; CTerrainImpl::Initialize
PUBLIC	?Clear@CTerrainImpl@@MAEXXZ			; CTerrainImpl::Clear
PUBLIC	?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z		; CTerrainImpl::LoadHeightMap
PUBLIC	?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z	; CTerrainImpl::RAW_LoadTileMap
PUBLIC	?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z		; CTerrainImpl::LoadAttrMap
PUBLIC	??_GCTerrainImpl@@UAEPAXI@Z			; CTerrainImpl::`scalar deleting destructor'
PUBLIC	?ms_singleton@?$CSingleton@VCEterPackManager@@@@0PAVCEterPackManager@@A ; CSingleton<CEterPackManager>::ms_singleton
PUBLIC	??_7CTerrainImpl@@6B@				; CTerrainImpl::`vftable'
PUBLIC	??_C@_0BJ@BIFDHEAG@LoadRawHeightMapFile?5?$CFs?5@ ; `string'
PUBLIC	??_C@_05NAOIJFC@Error@				; `string'
PUBLIC	??_C@_0CM@LCPOPFI@CTerrainImpl?3?3LoadHeightMap?5?9?5?$CF@ ; `string'
PUBLIC	??_C@_0BE@DJBMFHIA@LoadAttrMapFile?5?$CFs?5@	; `string'
PUBLIC	??_C@_0CK@PIIHIJH@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@ ; `string'
PUBLIC	??_C@_0DA@IIKEEHMO@?5CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs@ ; `string'
PUBLIC	??_C@_0EB@HPKBHBHD@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@ ; `string'
PUBLIC	??_C@_0EO@LFPHPEPB@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@ ; `string'
PUBLIC	??_C@_0EP@IAGDHLKD@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@ ; `string'
PUBLIC	??_C@_0EI@LOIJBECO@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@ ; `string'
PUBLIC	??_C@_03PMGGPEJJ@?$CFd?6@			; `string'
PUBLIC	??_C@_0BC@JFLPEFAC@LoadSplatFile?5?$CFs?5@	; `string'
PUBLIC	??_C@_0CO@EKLJBLHD@CTerrainImpl?3?3RAW_LoadTileMap?5?9@ ; `string'
PUBLIC	??_C@_0DG@MJOJCCLB@CMapOutdoor?3?3LoadWaterMap?5LoadW@ ; `string'
PUBLIC	??_C@_0BI@LPNELCOB@LoadWaterMapFile?5?$CFs?5?$CFd?6@ ; `string'
PUBLIC	??_C@_0CL@FEGPIHMN@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ ; `string'
PUBLIC	??_C@_0DA@BNEIEOIL@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ ; `string'
PUBLIC	??_C@_0EC@DBFGDPJD@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ ; `string'
PUBLIC	??_C@_0FB@JFMCAAJF@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@ ; `string'
PUBLIC	??_C@_0FC@EFCAKCOC@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@ ; `string'
PUBLIC	??_C@_0EJ@JKEHKGG@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ ; `string'
PUBLIC	??_R4CTerrainImpl@@6B@				; CTerrainImpl::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCTerrainImpl@@@8			; CTerrainImpl `RTTI Type Descriptor'
PUBLIC	??_R3CTerrainImpl@@8				; CTerrainImpl::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CTerrainImpl@@8				; CTerrainImpl::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CTerrainImpl@@8			; CTerrainImpl::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	__real@3f800000
PUBLIC	__real@437f0000
PUBLIC	__real@46c80000
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	_atexit:PROC
EXTRN	__Init_thread_header:PROC
EXTRN	__Init_thread_abort:PROC
EXTRN	__Init_thread_footer:PROC
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	?Tracen@@YAXPBD@Z:PROC				; Tracen
EXTRN	?Tracef@@YAXPBDZZ:PROC				; Tracef
EXTRN	?TraceError@@YAXPBDZZ:PROC			; TraceError
EXTRN	?MIN@@YAHHH@Z:PROC				; MIN
EXTRN	?ELTimer_GetMSec@@YAKXZ:PROC			; ELTimer_GetMSec
EXTRN	??0CMappedFile@@QAE@XZ:PROC			; CMappedFile::CMappedFile
EXTRN	??1CMappedFile@@UAE@XZ:PROC			; CMappedFile::~CMappedFile
EXTRN	?Size@CMappedFile@@QAEKXZ:PROC			; CMappedFile::Size
EXTRN	?Get@CEterPackManager@@QAE_NAAVCMappedFile@@PBDPAPBX@Z:PROC ; CEterPackManager::Get
EXTRN	??0CTextureSet@@QAE@XZ:PROC			; CTextureSet::CTextureSet
EXTRN	??1CTextureSet@@UAE@XZ:PROC			; CTextureSet::~CTextureSet
EXTRN	?GetTextureCount@CTextureSet@@QAEKXZ:PROC	; CTextureSet::GetTextureCount
EXTRN	??_ECTerrainImpl@@UAEPAXI@Z:PROC		; CTerrainImpl::`vector deleting destructor'
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	__Init_thread_epoch:DWORD
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?PR_FCNV@@3MA:DWORD				; PR_FCNV
EXTRN	?PR_ICNV@@3JA:DWORD				; PR_ICNV
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
EXTRN	__tls_array:DWORD
EXTRN	__tls_index:DWORD
;	COMDAT ?ms_singleton@?$CSingleton@VCEterPackManager@@@@0PAVCEterPackManager@@A
_BSS	SEGMENT
?ms_singleton@?$CSingleton@VCEterPackManager@@@@0PAVCEterPackManager@@A DD 01H DUP (?) ; CSingleton<CEterPackManager>::ms_singleton
_BSS	ENDS
;	COMDAT ?s_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4V3@A
_BSS	SEGMENT
?s_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4V3@A DB 0bcH DUP (?) ; `CTerrainImpl::SetTextureSet'::`2'::s_EmptyTextureSet
_BSS	ENDS
;	COMDAT ?$TSS0@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4HA
_BSS	SEGMENT
?$TSS0@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4HA DD 01H DUP (?) ; `CTerrainImpl::SetTextureSet'::`2'::$TSS0
_BSS	ENDS
;	COMDAT __real@46c80000
CONST	SEGMENT
__real@46c80000 DD 046c80000r			; 25600
CONST	ENDS
;	COMDAT __real@437f0000
CONST	SEGMENT
__real@437f0000 DD 0437f0000r			; 255
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ??_R1A@?0A@EA@CTerrainImpl@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CTerrainImpl@@8 DD FLAT:??_R0?AVCTerrainImpl@@@8 ; CTerrainImpl::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CTerrainImpl@@8
rdata$r	ENDS
;	COMDAT ??_R2CTerrainImpl@@8
rdata$r	SEGMENT
??_R2CTerrainImpl@@8 DD FLAT:??_R1A@?0A@EA@CTerrainImpl@@8 ; CTerrainImpl::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CTerrainImpl@@8
rdata$r	SEGMENT
??_R3CTerrainImpl@@8 DD 00H				; CTerrainImpl::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CTerrainImpl@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCTerrainImpl@@@8
data$rs	SEGMENT
??_R0?AVCTerrainImpl@@@8 DD FLAT:??_7type_info@@6B@	; CTerrainImpl `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCTerrainImpl@@', 00H
data$rs	ENDS
;	COMDAT ??_R4CTerrainImpl@@6B@
rdata$r	SEGMENT
??_R4CTerrainImpl@@6B@ DD 00H				; CTerrainImpl::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCTerrainImpl@@@8
	DD	FLAT:??_R3CTerrainImpl@@8
rdata$r	ENDS
;	COMDAT ??_C@_0EJ@JKEHKGG@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
CONST	SEGMENT
??_C@_0EJ@JKEHKGG@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ DB 'CTerrainIm'
	DB	'pl::LoadWaterMap - %s FILE DATA SIZE(rest %d != need %d) ERRO'
	DB	'R', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@EFCAKCOC@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@
CONST	SEGMENT
??_C@_0FC@EFCAKCOC@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@ DB 'CTerrainImpl'
	DB	'::LoadWaterMap - kWaterMapHeader(%s).m_height(%d)!=WATERMAP_Y'
	DB	'SIZE(%d)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0FB@JFMCAAJF@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@
CONST	SEGMENT
??_C@_0FB@JFMCAAJF@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@ DB 'CTerrainImpl'
	DB	'::LoadWaterMap - kWaterMapHeader(%s).m_width(%d)!=WATERMAP_XS'
	DB	'IZE(%d)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EC@DBFGDPJD@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
CONST	SEGMENT
??_C@_0EC@DBFGDPJD@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ DB 'CTerrainI'
	DB	'mpl::LoadWaterMap - %s MAGIC NUMBER(%d!=MAGIC[%d]) ERROR', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@BNEIEOIL@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
CONST	SEGMENT
??_C@_0DA@BNEIEOIL@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ DB 'CTerrainI'
	DB	'mpl::LoadWaterMap - %s FILE SIZE ERROR', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CL@FEGPIHMN@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
CONST	SEGMENT
??_C@_0CL@FEGPIHMN@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@ DB 'CTerrainI'
	DB	'mpl::LoadWaterMap - %s OPEN ERROR', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@LPNELCOB@LoadWaterMapFile?5?$CFs?5?$CFd?6@
CONST	SEGMENT
??_C@_0BI@LPNELCOB@LoadWaterMapFile?5?$CFs?5?$CFd?6@ DB 'LoadWaterMapFile'
	DB	' %s %d', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@MJOJCCLB@CMapOutdoor?3?3LoadWaterMap?5LoadW@
CONST	SEGMENT
??_C@_0DG@MJOJCCLB@CMapOutdoor?3?3LoadWaterMap?5LoadW@ DB 'CMapOutdoor::L'
	DB	'oadWaterMap LoadWaterMapFile(%s) Failed', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@EKLJBLHD@CTerrainImpl?3?3RAW_LoadTileMap?5?9@
CONST	SEGMENT
??_C@_0CO@EKLJBLHD@CTerrainImpl?3?3RAW_LoadTileMap?5?9@ DB 'CTerrainImpl:'
	DB	':RAW_LoadTileMap - %s OPEN ERROR', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@JFLPEFAC@LoadSplatFile?5?$CFs?5@
CONST	SEGMENT
??_C@_0BC@JFLPEFAC@LoadSplatFile?5?$CFs?5@ DB 'LoadSplatFile %s ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_03PMGGPEJJ@?$CFd?6@
CONST	SEGMENT
??_C@_03PMGGPEJJ@?$CFd?6@ DB '%d', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EI@LOIJBECO@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@
CONST	SEGMENT
??_C@_0EI@LOIJBECO@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@ DB 'CTerrain'
	DB	'Impl::LoadAttrMap - %s FILE DATA SIZE(rest %d != need %d) ERR'
	DB	'OR', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EP@IAGDHLKD@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@
CONST	SEGMENT
??_C@_0EP@IAGDHLKD@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@ DB 'CTerrainImpl'
	DB	'::LoadAttrMap - kAttrMapHeader(%s).m_height(%d)!=ATTRMAP_YSIZ'
	DB	'E(%d)', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EO@LFPHPEPB@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@
CONST	SEGMENT
??_C@_0EO@LFPHPEPB@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@ DB 'CTerrainImpl'
	DB	'::LoadAttrMap - kAttrMapHeader(%s).m_width(%d)!=ATTRMAP_XSIZE'
	DB	'(%d)', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@HPKBHBHD@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@
CONST	SEGMENT
??_C@_0EB@HPKBHBHD@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@ DB 'CTerrain'
	DB	'Impl::LoadAttrMap - %s MAGIC NUMBER(%d!=MAGIC[%d]) ERROR', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@IIKEEHMO@?5CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs@
CONST	SEGMENT
??_C@_0DA@IIKEEHMO@?5CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs@ DB ' CTerrai'
	DB	'nImpl::LoadAttrMap - %s FILE SIZE ERROR', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@PIIHIJH@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@
CONST	SEGMENT
??_C@_0CK@PIIHIJH@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@ DB 'CTerrainI'
	DB	'mpl::LoadAttrMap - %s OPEN ERROR', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@DJBMFHIA@LoadAttrMapFile?5?$CFs?5@
CONST	SEGMENT
??_C@_0BE@DJBMFHIA@LoadAttrMapFile?5?$CFs?5@ DB 'LoadAttrMapFile %s ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@LCPOPFI@CTerrainImpl?3?3LoadHeightMap?5?9?5?$CF@
CONST	SEGMENT
??_C@_0CM@LCPOPFI@CTerrainImpl?3?3LoadHeightMap?5?9?5?$CF@ DB 'CTerrainIm'
	DB	'pl::LoadHeightMap - %s OPEN ERROR', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_05NAOIJFC@Error@
CONST	SEGMENT
??_C@_05NAOIJFC@Error@ DB 'Error', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@BIFDHEAG@LoadRawHeightMapFile?5?$CFs?5@
CONST	SEGMENT
??_C@_0BJ@BIFDHEAG@LoadRawHeightMapFile?5?$CFs?5@ DB 'LoadRawHeightMapFil'
	DB	'e %s ', 00H					; `string'
CONST	ENDS
;	COMDAT ??_7CTerrainImpl@@6B@
CONST	SEGMENT
??_7CTerrainImpl@@6B@ DD FLAT:??_R4CTerrainImpl@@6B@	; CTerrainImpl::`vftable'
	DD	FLAT:??_ECTerrainImpl@@UAEPAXI@Z
	DD	FLAT:?Clear@CTerrainImpl@@MAEXXZ
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z$0
__ehfuncinfo$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z$0
__ehfuncinfo$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z$0
__ehfuncinfo$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z$0
__ehfuncinfo$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??1CTerrainImpl@@UAE@XZ DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z$0
__ehfuncinfo$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
; Function compile flags: /Odspy
;	COMDAT ??__Fs_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@YAXXZ
text$yd	SEGMENT
??__Fs_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@YAXXZ PROC ; `CTerrainImpl::SetTextureSet'::`2'::`dynamic atexit destructor for 's_EmptyTextureSet'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b9 00 00 00 00	 mov	 ecx, OFFSET ?s_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4V3@A
  00008	e8 00 00 00 00	 call	 ??1CTextureSet@@UAE@XZ	; CTextureSet::~CTextureSet
  0000d	5d		 pop	 ebp
  0000e	c3		 ret	 0
??__Fs_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@YAXXZ ENDP ; `CTerrainImpl::SetTextureSet'::`2'::`dynamic atexit destructor for 's_EmptyTextureSet''
text$yd	ENDS
; Function compile flags: /Odspy
;	COMDAT ??_GCTerrainImpl@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCTerrainImpl@@UAEPAXI@Z PROC			; CTerrainImpl::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??1CTerrainImpl@@UAE@XZ	; CTerrainImpl::~CTerrainImpl
  0000f	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00012	83 e0 01	 and	 eax, 1
  00015	74 0f		 je	 SHORT $LN2@scalar
  00017	68 50 a5 06 00	 push	 435536			; 0006a550H
  0001c	ff 75 fc	 push	 DWORD PTR _this$[ebp]
  0001f	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00024	59		 pop	 ecx
  00025	59		 pop	 ecx
$LN2@scalar:
  00026	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00029	c9		 leave
  0002a	c2 04 00	 ret	 4
??_GCTerrainImpl@@UAEPAXI@Z ENDP			; CTerrainImpl::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z
_TEXT	SEGMENT
_dwStart$ = -68						; size = 4
_this$ = -64						; size = 4
_abSrcAttrData$2 = -60					; size = 4
_lpcvFileData$ = -56					; size = 4
$T3 = -52						; size = 4
_c_wAttrMapMagic$4 = -48				; size = 2
_abFileData$ = -44					; size = 4
_dwFileRestSize$5 = -40					; size = 4
_dwFileNeedSize$6 = -36					; size = 4
_dwFileSize$ = -32					; size = 4
_kAttrMapHeader$7 = -28					; size = 6
$T8 = -19						; size = 1
$T9 = -18						; size = 1
$T10 = -17						; size = 1
$T11 = -16						; size = 1
$T12 = -15						; size = 1
$T13 = -14						; size = 1
$T14 = -13						; size = 1
__$EHRec$ = -12						; size = 12
_kMappedFile$ = 0					; size = 324
__$ArrayPad$ = 324					; size = 4
_c_szFileName$ = 336					; size = 4
?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z PROC		; CTerrainImpl::LoadAttrMap, COMDAT
; _this$ = ecx

; 95   : {

  00000	55		 push	 ebp
  00001	8d ac 24 b8 fe
	ff ff		 lea	 ebp, DWORD PTR [esp-328]
  00008	81 ec 48 01 00
	00		 sub	 esp, 328		; 00000148H
  0000e	6a ff		 push	 -1
  00010	68 00 00 00 00	 push	 __ehhandler$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z
  00015	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  0001b	50		 push	 eax
  0001c	83 ec 38	 sub	 esp, 56			; 00000038H
  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00024	33 c5		 xor	 eax, ebp
  00026	89 85 44 01 00
	00		 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0002c	50		 push	 eax
  0002d	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00030	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00036	89 4d c0	 mov	 DWORD PTR _this$[ebp], ecx

; 96   : 	DWORD dwStart = ELTimer_GetMSec();

  00039	e8 00 00 00 00	 call	 ?ELTimer_GetMSec@@YAKXZ	; ELTimer_GetMSec
  0003e	89 45 bc	 mov	 DWORD PTR _dwStart$[ebp], eax

; 97   : 	Tracef("LoadAttrMapFile %s ", c_szFileName);

  00041	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00047	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@DJBMFHIA@LoadAttrMapFile?5?$CFs?5@
  0004c	e8 00 00 00 00	 call	 ?Tracef@@YAXPBDZZ	; Tracef
  00051	59		 pop	 ecx
  00052	59		 pop	 ecx

; 98   : 
; 99   : 	CMappedFile	kMappedFile;

  00053	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00056	e8 00 00 00 00	 call	 ??0CMappedFile@@QAE@XZ	; CMappedFile::CMappedFile
  0005b	83 65 fc 00	 and	 DWORD PTR __$EHRec$[ebp+8], 0
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h

; 27   : 		return (*ms_singleton);

  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_singleton@?$CSingleton@VCEterPackManager@@@@0PAVCEterPackManager@@A ; CSingleton<CEterPackManager>::ms_singleton
  00064	89 45 cc	 mov	 DWORD PTR $T3[ebp], eax
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp

; 102  : 	if (!CEterPackManager::Instance().Get(kMappedFile, c_szFileName, &lpcvFileData))

  00067	8d 45 c8	 lea	 eax, DWORD PTR _lpcvFileData$[ebp]
  0006a	50		 push	 eax
  0006b	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00071	8d 45 00	 lea	 eax, DWORD PTR _kMappedFile$[ebp]
  00074	50		 push	 eax
  00075	8b 4d cc	 mov	 ecx, DWORD PTR $T3[ebp]
  00078	e8 00 00 00 00	 call	 ?Get@CEterPackManager@@QAE_NAAVCMappedFile@@PBDPAPBX@Z ; CEterPackManager::Get
  0007d	0f b6 c0	 movzx	 eax, al
  00080	85 c0		 test	 eax, eax
  00082	75 2a		 jne	 SHORT $LN2@LoadAttrMa

; 103  : 	{
; 104  : 		TraceError("CTerrainImpl::LoadAttrMap - %s OPEN ERROR", c_szFileName);

  00084	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  0008a	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@PIIHIJH@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@
  0008f	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  00094	59		 pop	 ecx
  00095	59		 pop	 ecx

; 105  : 		return false;

  00096	c6 45 f3 00	 mov	 BYTE PTR $T14[ebp], 0
  0009a	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  0009e	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000a1	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  000a6	8a 45 f3	 mov	 al, BYTE PTR $T14[ebp]
  000a9	e9 ab 01 00 00	 jmp	 $LN1@LoadAttrMa
$LN2@LoadAttrMa:

; 106  : 	}
; 107  : 
; 108  : 	DWORD dwFileSize = kMappedFile.Size();

  000ae	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000b1	e8 00 00 00 00	 call	 ?Size@CMappedFile@@QAEKXZ ; CMappedFile::Size
  000b6	89 45 e0	 mov	 DWORD PTR _dwFileSize$[ebp], eax

; 109  : 	BYTE * abFileData = (BYTE *) lpcvFileData;

  000b9	8b 45 c8	 mov	 eax, DWORD PTR _lpcvFileData$[ebp]
  000bc	89 45 d4	 mov	 DWORD PTR _abFileData$[ebp], eax

; 110  : 
; 111  : 	// LoadAttrMap
; 112  : 	{
; 113  : #pragma pack(push)
; 114  : #pragma pack(1)
; 115  : 		struct SAttrMapHeader
; 116  : 		{
; 117  : 			WORD m_wMagic;
; 118  : 			WORD m_wWidth;
; 119  : 			WORD m_wHeight;
; 120  : 		};
; 121  : #pragma pack(pop)
; 122  : 		
; 123  : 		if (dwFileSize < sizeof(SAttrMapHeader))

  000bf	83 7d e0 06	 cmp	 DWORD PTR _dwFileSize$[ebp], 6
  000c3	73 2a		 jae	 SHORT $LN3@LoadAttrMa

; 124  : 		{
; 125  : 			TraceError(" CTerrainImpl::LoadAttrMap - %s FILE SIZE ERROR", c_szFileName);

  000c5	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  000cb	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@IIKEEHMO@?5CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs@
  000d0	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  000d5	59		 pop	 ecx
  000d6	59		 pop	 ecx

; 126  : 			return false;

  000d7	c6 45 f2 00	 mov	 BYTE PTR $T13[ebp], 0
  000db	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  000df	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000e2	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  000e7	8a 45 f2	 mov	 al, BYTE PTR $T13[ebp]
  000ea	e9 6a 01 00 00	 jmp	 $LN1@LoadAttrMa
$LN3@LoadAttrMa:

; 127  : 		}
; 128  : 
; 129  : 		SAttrMapHeader kAttrMapHeader;
; 130  : 		memcpy(&kAttrMapHeader, abFileData, sizeof(kAttrMapHeader));

  000ef	6a 06		 push	 6
  000f1	ff 75 d4	 push	 DWORD PTR _abFileData$[ebp]
  000f4	8d 45 e4	 lea	 eax, DWORD PTR _kAttrMapHeader$7[ebp]
  000f7	50		 push	 eax
  000f8	e8 00 00 00 00	 call	 _memcpy
  000fd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 131  : 
; 132  : 		const WORD c_wAttrMapMagic = 2634;

  00100	b8 4a 0a 00 00	 mov	 eax, 2634		; 00000a4aH
  00105	66 89 45 d0	 mov	 WORD PTR _c_wAttrMapMagic$4[ebp], ax

; 133  : 		if (c_wAttrMapMagic != kAttrMapHeader.m_wMagic)

  00109	0f b7 45 e4	 movzx	 eax, WORD PTR _kAttrMapHeader$7[ebp]
  0010d	3d 4a 0a 00 00	 cmp	 eax, 2634		; 00000a4aH
  00112	74 35		 je	 SHORT $LN4@LoadAttrMa

; 134  : 		{
; 135  : 			TraceError("CTerrainImpl::LoadAttrMap - %s MAGIC NUMBER(%d!=MAGIC[%d]) ERROR", c_szFileName, kAttrMapHeader.m_wMagic, kAttrMapHeader.m_wMagic);

  00114	0f b7 45 e4	 movzx	 eax, WORD PTR _kAttrMapHeader$7[ebp]
  00118	50		 push	 eax
  00119	0f b7 45 e4	 movzx	 eax, WORD PTR _kAttrMapHeader$7[ebp]
  0011d	50		 push	 eax
  0011e	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00124	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@HPKBHBHD@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@
  00129	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  0012e	83 c4 10	 add	 esp, 16			; 00000010H

; 136  : 			return false;

  00131	c6 45 f1 00	 mov	 BYTE PTR $T12[ebp], 0
  00135	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  00139	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  0013c	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00141	8a 45 f1	 mov	 al, BYTE PTR $T12[ebp]
  00144	e9 10 01 00 00	 jmp	 $LN1@LoadAttrMa
$LN4@LoadAttrMa:

; 137  : 		}
; 138  : 
; 139  : 		if (ATTRMAP_XSIZE != kAttrMapHeader.m_wWidth)

  00149	0f b7 45 e6	 movzx	 eax, WORD PTR _kAttrMapHeader$7[ebp+2]
  0014d	3d 00 01 00 00	 cmp	 eax, 256		; 00000100H
  00152	74 35		 je	 SHORT $LN5@LoadAttrMa

; 140  : 		{
; 141  : 			TraceError("CTerrainImpl::LoadAttrMap - kAttrMapHeader(%s).m_width(%d)!=ATTRMAP_XSIZE(%d)", c_szFileName, kAttrMapHeader.m_wWidth, ATTRMAP_XSIZE);

  00154	68 00 01 00 00	 push	 256			; 00000100H
  00159	0f b7 45 e6	 movzx	 eax, WORD PTR _kAttrMapHeader$7[ebp+2]
  0015d	50		 push	 eax
  0015e	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00164	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LFPHPEPB@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@
  00169	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  0016e	83 c4 10	 add	 esp, 16			; 00000010H

; 142  : 			return false;

  00171	c6 45 f0 00	 mov	 BYTE PTR $T11[ebp], 0
  00175	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  00179	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  0017c	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00181	8a 45 f0	 mov	 al, BYTE PTR $T11[ebp]
  00184	e9 d0 00 00 00	 jmp	 $LN1@LoadAttrMa
$LN5@LoadAttrMa:

; 143  : 		}
; 144  : 
; 145  : 		if (ATTRMAP_YSIZE != kAttrMapHeader.m_wHeight)

  00189	0f b7 45 e8	 movzx	 eax, WORD PTR _kAttrMapHeader$7[ebp+4]
  0018d	3d 00 01 00 00	 cmp	 eax, 256		; 00000100H
  00192	74 35		 je	 SHORT $LN6@LoadAttrMa

; 146  : 		{
; 147  : 			TraceError("CTerrainImpl::LoadAttrMap - kAttrMapHeader(%s).m_height(%d)!=ATTRMAP_YSIZE(%d)", c_szFileName, kAttrMapHeader.m_wHeight, ATTRMAP_YSIZE);

  00194	68 00 01 00 00	 push	 256			; 00000100H
  00199	0f b7 45 e8	 movzx	 eax, WORD PTR _kAttrMapHeader$7[ebp+4]
  0019d	50		 push	 eax
  0019e	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  001a4	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@IAGDHLKD@CTerrainImpl?3?3LoadAttrMap?5?9?5kAt@
  001a9	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  001ae	83 c4 10	 add	 esp, 16			; 00000010H

; 148  : 			return false;

  001b1	c6 45 ef 00	 mov	 BYTE PTR $T10[ebp], 0
  001b5	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  001b9	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  001bc	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  001c1	8a 45 ef	 mov	 al, BYTE PTR $T10[ebp]
  001c4	e9 90 00 00 00	 jmp	 $LN1@LoadAttrMa
$LN6@LoadAttrMa:

; 149  : 		}
; 150  : 
; 151  : 		DWORD dwFileRestSize=dwFileSize-sizeof(kAttrMapHeader);

  001c9	8b 45 e0	 mov	 eax, DWORD PTR _dwFileSize$[ebp]
  001cc	83 e8 06	 sub	 eax, 6
  001cf	89 45 d8	 mov	 DWORD PTR _dwFileRestSize$5[ebp], eax

; 152  : 		DWORD dwFileNeedSize=sizeof(m_abyAttrMap);

  001d2	c7 45 dc 00 00
	01 00		 mov	 DWORD PTR _dwFileNeedSize$6[ebp], 65536 ; 00010000H

; 153  : 		if (dwFileRestSize != dwFileNeedSize)

  001d9	8b 45 d8	 mov	 eax, DWORD PTR _dwFileRestSize$5[ebp]
  001dc	3b 45 dc	 cmp	 eax, DWORD PTR _dwFileNeedSize$6[ebp]
  001df	74 2e		 je	 SHORT $LN7@LoadAttrMa

; 154  : 		{
; 155  : 			TraceError("CTerrainImpl::LoadAttrMap - %s FILE DATA SIZE(rest %d != need %d) ERROR", c_szFileName, dwFileRestSize, dwFileNeedSize);

  001e1	ff 75 dc	 push	 DWORD PTR _dwFileNeedSize$6[ebp]
  001e4	ff 75 d8	 push	 DWORD PTR _dwFileRestSize$5[ebp]
  001e7	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  001ed	68 00 00 00 00	 push	 OFFSET ??_C@_0EI@LOIJBECO@CTerrainImpl?3?3LoadAttrMap?5?9?5?$CFs?5@
  001f2	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  001f7	83 c4 10	 add	 esp, 16			; 00000010H

; 156  : 			return false;

  001fa	c6 45 ee 00	 mov	 BYTE PTR $T9[ebp], 0
  001fe	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  00202	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00205	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  0020a	8a 45 ee	 mov	 al, BYTE PTR $T9[ebp]
  0020d	eb 4a		 jmp	 SHORT $LN1@LoadAttrMa
$LN7@LoadAttrMa:

; 157  : 		}
; 158  : 
; 159  : 		BYTE* abSrcAttrData= abFileData+sizeof(kAttrMapHeader);

  0020f	8b 45 d4	 mov	 eax, DWORD PTR _abFileData$[ebp]
  00212	83 c0 06	 add	 eax, 6
  00215	89 45 c4	 mov	 DWORD PTR _abSrcAttrData$2[ebp], eax

; 160  : 		memcpy(m_abyAttrMap, abSrcAttrData, sizeof(m_abyAttrMap));		

  00218	68 00 00 01 00	 push	 65536			; 00010000H
  0021d	ff 75 c4	 push	 DWORD PTR _abSrcAttrData$2[ebp]
  00220	8b 45 c0	 mov	 eax, DWORD PTR _this$[ebp]
  00223	05 1a 8e 01 00	 add	 eax, 101914		; 00018e1aH
  00228	50		 push	 eax
  00229	e8 00 00 00 00	 call	 _memcpy
  0022e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 161  : 	}
; 162  : 
; 163  : 	Tracef("%d\n", ELTimer_GetMSec() - dwStart);

  00231	e8 00 00 00 00	 call	 ?ELTimer_GetMSec@@YAKXZ	; ELTimer_GetMSec
  00236	2b 45 bc	 sub	 eax, DWORD PTR _dwStart$[ebp]
  00239	50		 push	 eax
  0023a	68 00 00 00 00	 push	 OFFSET ??_C@_03PMGGPEJJ@?$CFd?6@
  0023f	e8 00 00 00 00	 call	 ?Tracef@@YAXPBDZZ	; Tracef
  00244	59		 pop	 ecx
  00245	59		 pop	 ecx

; 164  : 	return true;

  00246	c6 45 ed 01	 mov	 BYTE PTR $T8[ebp], 1
  0024a	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  0024e	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00251	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00256	8a 45 ed	 mov	 al, BYTE PTR $T8[ebp]
$LN1@LoadAttrMa:

; 165  : }

  00259	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0025c	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00263	59		 pop	 ecx
  00264	8b 8d 44 01 00
	00		 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0026a	33 cd		 xor	 ecx, ebp
  0026c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00271	81 c5 48 01 00
	00		 add	 ebp, 328		; 00000148H
  00277	c9		 leave
  00278	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z$0:
  00000	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00008	cc		 int	 3
  00009	cc		 int	 3
  0000a	cc		 int	 3
  0000b	cc		 int	 3
  0000c	cc		 int	 3
__ehhandler$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z:
  0000d	90		 npad	 1
  0000e	90		 npad	 1
  0000f	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00013	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00016	8b 4a c4	 mov	 ecx, DWORD PTR [edx-60]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	8b 8a 50 01 00
	00		 mov	 ecx, DWORD PTR [edx+336]
  00026	33 c8		 xor	 ecx, eax
  00028	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002d	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z
  00032	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?LoadAttrMap@CTerrainImpl@@IAE_NPBD@Z ENDP		; CTerrainImpl::LoadAttrMap
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z
_TEXT	SEGMENT
_this$ = -28						; size = 4
_lpcvFileData$ = -24					; size = 4
$T2 = -20						; size = 4
$T3 = -14						; size = 1
$T4 = -13						; size = 1
__$EHRec$ = -12						; size = 12
_kMappedFile$ = 0					; size = 324
__$ArrayPad$ = 324					; size = 4
_c_szFileName$ = 336					; size = 4
?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z PROC		; CTerrainImpl::RAW_LoadTileMap, COMDAT
; _this$ = ecx

; 168  : {

  00000	55		 push	 ebp
  00001	8d ac 24 b8 fe
	ff ff		 lea	 ebp, DWORD PTR [esp-328]
  00008	81 ec 48 01 00
	00		 sub	 esp, 328		; 00000148H
  0000e	6a ff		 push	 -1
  00010	68 00 00 00 00	 push	 __ehhandler$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z
  00015	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  0001b	50		 push	 eax
  0001c	83 ec 10	 sub	 esp, 16			; 00000010H
  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00024	33 c5		 xor	 eax, ebp
  00026	89 85 44 01 00
	00		 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0002c	50		 push	 eax
  0002d	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00030	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00036	89 4d e4	 mov	 DWORD PTR _this$[ebp], ecx

; 169  : 	Tracef("LoadSplatFile %s ", c_szFileName);

  00039	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@JFLPEFAC@LoadSplatFile?5?$CFs?5@
  00044	e8 00 00 00 00	 call	 ?Tracef@@YAXPBDZZ	; Tracef
  00049	59		 pop	 ecx
  0004a	59		 pop	 ecx

; 170  : 	
; 171  : 	CMappedFile	kMappedFile;

  0004b	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  0004e	e8 00 00 00 00	 call	 ??0CMappedFile@@QAE@XZ	; CMappedFile::CMappedFile
  00053	83 65 fc 00	 and	 DWORD PTR __$EHRec$[ebp+8], 0
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h

; 27   : 		return (*ms_singleton);

  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_singleton@?$CSingleton@VCEterPackManager@@@@0PAVCEterPackManager@@A ; CSingleton<CEterPackManager>::ms_singleton
  0005c	89 45 ec	 mov	 DWORD PTR $T2[ebp], eax
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp

; 174  : 	if (!CEterPackManager::Instance().Get(kMappedFile, c_szFileName, &lpcvFileData))

  0005f	8d 45 e8	 lea	 eax, DWORD PTR _lpcvFileData$[ebp]
  00062	50		 push	 eax
  00063	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00069	8d 45 00	 lea	 eax, DWORD PTR _kMappedFile$[ebp]
  0006c	50		 push	 eax
  0006d	8b 4d ec	 mov	 ecx, DWORD PTR $T2[ebp]
  00070	e8 00 00 00 00	 call	 ?Get@CEterPackManager@@QAE_NAAVCMappedFile@@PBDPAPBX@Z ; CEterPackManager::Get
  00075	0f b6 c0	 movzx	 eax, al
  00078	85 c0		 test	 eax, eax
  0007a	75 32		 jne	 SHORT $LN2@RAW_LoadTi

; 175  : 	{
; 176  : 		Tracen("Error");

  0007c	68 00 00 00 00	 push	 OFFSET ??_C@_05NAOIJFC@Error@
  00081	e8 00 00 00 00	 call	 ?Tracen@@YAXPBD@Z	; Tracen
  00086	59		 pop	 ecx

; 177  : 		TraceError("CTerrainImpl::RAW_LoadTileMap - %s OPEN ERROR", c_szFileName);

  00087	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  0008d	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@EKLJBLHD@CTerrainImpl?3?3RAW_LoadTileMap?5?9@
  00092	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  00097	59		 pop	 ecx
  00098	59		 pop	 ecx

; 178  : 		return false;

  00099	c6 45 f3 00	 mov	 BYTE PTR $T4[ebp], 0
  0009d	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  000a1	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000a4	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  000a9	8a 45 f3	 mov	 al, BYTE PTR $T4[ebp]
  000ac	eb 2c		 jmp	 SHORT $LN1@RAW_LoadTi
$LN2@RAW_LoadTi:

; 179  : 	}
; 180  : 	
; 181  : 	memcpy(m_abyTileMap, lpcvFileData, sizeof(BYTE)*(TILEMAP_RAW_XSIZE)*(TILEMAP_RAW_YSIZE));

  000ae	68 04 04 01 00	 push	 66564			; 00010404H
  000b3	ff 75 e8	 push	 DWORD PTR _lpcvFileData$[ebp]
  000b6	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  000b9	05 16 8a 00 00	 add	 eax, 35350		; 00008a16H
  000be	50		 push	 eax
  000bf	e8 00 00 00 00	 call	 _memcpy
  000c4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 182  : 	
; 183  : 	return true;

  000c7	c6 45 f2 01	 mov	 BYTE PTR $T3[ebp], 1
  000cb	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  000cf	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000d2	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  000d7	8a 45 f2	 mov	 al, BYTE PTR $T3[ebp]
$LN1@RAW_LoadTi:

; 184  : 
; 185  : }

  000da	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  000dd	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000e4	59		 pop	 ecx
  000e5	8b 8d 44 01 00
	00		 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000eb	33 cd		 xor	 ecx, ebp
  000ed	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000f2	81 c5 48 01 00
	00		 add	 ebp, 328		; 00000148H
  000f8	c9		 leave
  000f9	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z$0:
  00000	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00008	cc		 int	 3
  00009	cc		 int	 3
  0000a	cc		 int	 3
  0000b	cc		 int	 3
  0000c	cc		 int	 3
__ehhandler$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z:
  0000d	90		 npad	 1
  0000e	90		 npad	 1
  0000f	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00013	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00016	8b 4a ec	 mov	 ecx, DWORD PTR [edx-20]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	8b 8a 50 01 00
	00		 mov	 ecx, DWORD PTR [edx+336]
  00026	33 c8		 xor	 ecx, eax
  00028	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002d	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z
  00032	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?RAW_LoadTileMap@CTerrainImpl@@IAE_NPBD@Z ENDP		; CTerrainImpl::RAW_LoadTileMap
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z
_TEXT	SEGMENT
_this$ = -28						; size = 4
_lpcvFileData$ = -24					; size = 4
$T2 = -20						; size = 4
$T3 = -14						; size = 1
$T4 = -13						; size = 1
__$EHRec$ = -12						; size = 12
_kMappedFile$ = 0					; size = 324
__$ArrayPad$ = 324					; size = 4
_c_szFileName$ = 336					; size = 4
?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z PROC		; CTerrainImpl::LoadHeightMap, COMDAT
; _this$ = ecx

; 76   : {

  00000	55		 push	 ebp
  00001	8d ac 24 b8 fe
	ff ff		 lea	 ebp, DWORD PTR [esp-328]
  00008	81 ec 48 01 00
	00		 sub	 esp, 328		; 00000148H
  0000e	6a ff		 push	 -1
  00010	68 00 00 00 00	 push	 __ehhandler$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z
  00015	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  0001b	50		 push	 eax
  0001c	83 ec 10	 sub	 esp, 16			; 00000010H
  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00024	33 c5		 xor	 eax, ebp
  00026	89 85 44 01 00
	00		 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0002c	50		 push	 eax
  0002d	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00030	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00036	89 4d e4	 mov	 DWORD PTR _this$[ebp], ecx

; 77   : 	Tracef("LoadRawHeightMapFile %s ", c_szFileName);

  00039	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@BIFDHEAG@LoadRawHeightMapFile?5?$CFs?5@
  00044	e8 00 00 00 00	 call	 ?Tracef@@YAXPBDZZ	; Tracef
  00049	59		 pop	 ecx
  0004a	59		 pop	 ecx

; 78   : 	
; 79   : 	CMappedFile	kMappedFile;

  0004b	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  0004e	e8 00 00 00 00	 call	 ??0CMappedFile@@QAE@XZ	; CMappedFile::CMappedFile
  00053	83 65 fc 00	 and	 DWORD PTR __$EHRec$[ebp+8], 0
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h

; 27   : 		return (*ms_singleton);

  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_singleton@?$CSingleton@VCEterPackManager@@@@0PAVCEterPackManager@@A ; CSingleton<CEterPackManager>::ms_singleton
  0005c	89 45 ec	 mov	 DWORD PTR $T2[ebp], eax
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp

; 82   : 	if (!CEterPackManager::Instance().Get(kMappedFile, c_szFileName, &lpcvFileData))

  0005f	8d 45 e8	 lea	 eax, DWORD PTR _lpcvFileData$[ebp]
  00062	50		 push	 eax
  00063	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00069	8d 45 00	 lea	 eax, DWORD PTR _kMappedFile$[ebp]
  0006c	50		 push	 eax
  0006d	8b 4d ec	 mov	 ecx, DWORD PTR $T2[ebp]
  00070	e8 00 00 00 00	 call	 ?Get@CEterPackManager@@QAE_NAAVCMappedFile@@PBDPAPBX@Z ; CEterPackManager::Get
  00075	0f b6 c0	 movzx	 eax, al
  00078	85 c0		 test	 eax, eax
  0007a	75 32		 jne	 SHORT $LN2@LoadHeight

; 83   : 	{
; 84   : 		Tracen("Error");

  0007c	68 00 00 00 00	 push	 OFFSET ??_C@_05NAOIJFC@Error@
  00081	e8 00 00 00 00	 call	 ?Tracen@@YAXPBD@Z	; Tracen
  00086	59		 pop	 ecx

; 85   : 		TraceError("CTerrainImpl::LoadHeightMap - %s OPEN ERROR", c_szFileName);

  00087	ff b5 50 01 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  0008d	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@LCPOPFI@CTerrainImpl?3?3LoadHeightMap?5?9?5?$CF@
  00092	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  00097	59		 pop	 ecx
  00098	59		 pop	 ecx

; 86   : 		return false;

  00099	c6 45 f3 00	 mov	 BYTE PTR $T4[ebp], 0
  0009d	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  000a1	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000a4	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  000a9	8a 45 f3	 mov	 al, BYTE PTR $T4[ebp]
  000ac	eb 2c		 jmp	 SHORT $LN1@LoadHeight
$LN2@LoadHeight:

; 87   : 	}
; 88   : 	
; 89   : 	memcpy(m_awRawHeightMap, lpcvFileData, sizeof(WORD)*HEIGHTMAP_RAW_XSIZE*HEIGHTMAP_RAW_YSIZE);

  000ae	68 12 86 00 00	 push	 34322			; 00008612H
  000b3	ff 75 e8	 push	 DWORD PTR _lpcvFileData$[ebp]
  000b6	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  000b9	05 04 04 00 00	 add	 eax, 1028		; 00000404H
  000be	50		 push	 eax
  000bf	e8 00 00 00 00	 call	 _memcpy
  000c4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 90   : 	
; 91   : 	return true;

  000c7	c6 45 f2 01	 mov	 BYTE PTR $T3[ebp], 1
  000cb	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  000cf	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000d2	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  000d7	8a 45 f2	 mov	 al, BYTE PTR $T3[ebp]
$LN1@LoadHeight:

; 92   : }

  000da	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  000dd	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000e4	59		 pop	 ecx
  000e5	8b 8d 44 01 00
	00		 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000eb	33 cd		 xor	 ecx, ebp
  000ed	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000f2	81 c5 48 01 00
	00		 add	 ebp, 328		; 00000148H
  000f8	c9		 leave
  000f9	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z$0:
  00000	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00008	cc		 int	 3
  00009	cc		 int	 3
  0000a	cc		 int	 3
  0000b	cc		 int	 3
  0000c	cc		 int	 3
__ehhandler$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z:
  0000d	90		 npad	 1
  0000e	90		 npad	 1
  0000f	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00013	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00016	8b 4a ec	 mov	 ecx, DWORD PTR [edx-20]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	8b 8a 50 01 00
	00		 mov	 ecx, DWORD PTR [edx+336]
  00026	33 c8		 xor	 ecx, eax
  00028	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002d	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z
  00032	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?LoadHeightMap@CTerrainImpl@@IAE_NPBD@Z ENDP		; CTerrainImpl::LoadHeightMap
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?Clear@CTerrainImpl@@MAEXXZ
_TEXT	SEGMENT
_this$ = -8						; size = 4
_i$1 = -4						; size = 4
?Clear@CTerrainImpl@@MAEXXZ PROC			; CTerrainImpl::Clear, COMDAT
; _this$ = ecx

; 62   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	51		 push	 ecx
  00005	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 63   : 	for (DWORD i = 0; i < GetTextureSet()->GetTextureCount(); ++i)

  00008	83 65 fc 00	 and	 DWORD PTR _i$1[ebp], 0
  0000c	eb 07		 jmp	 SHORT $LN4@Clear
$LN2@Clear:
  0000e	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00011	40		 inc	 eax
  00012	89 45 fc	 mov	 DWORD PTR _i$1[ebp], eax
$LN4@Clear:
  00015	e8 00 00 00 00	 call	 ?GetTextureSet@CTerrainImpl@@SAPAVCTextureSet@@XZ ; CTerrainImpl::GetTextureSet
  0001a	8b c8		 mov	 ecx, eax
  0001c	e8 00 00 00 00	 call	 ?GetTextureCount@CTextureSet@@QAEKXZ ; CTextureSet::GetTextureCount
  00021	39 45 fc	 cmp	 DWORD PTR _i$1[ebp], eax
  00024	73 33		 jae	 SHORT $LN3@Clear

; 64   : 	{
; 65   : 		if (m_lpAlphaTexture[i])

  00026	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00029	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002c	83 7c 81 04 00	 cmp	 DWORD PTR [ecx+eax*4+4], 0
  00031	74 24		 je	 SHORT $LN5@Clear

; 66   : 		{
; 67   : 			m_lpAlphaTexture[i]->Release();

  00033	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00036	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00039	8b 44 81 04	 mov	 eax, DWORD PTR [ecx+eax*4+4]
  0003d	8b 4d fc	 mov	 ecx, DWORD PTR _i$1[ebp]
  00040	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00043	8b 00		 mov	 eax, DWORD PTR [eax]
  00045	ff 74 8a 04	 push	 DWORD PTR [edx+ecx*4+4]
  00049	ff 50 08	 call	 DWORD PTR [eax+8]

; 68   : 			m_lpAlphaTexture[i] = NULL;

  0004c	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  0004f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00052	83 64 81 04 00	 and	 DWORD PTR [ecx+eax*4+4], 0
$LN5@Clear:

; 69   : 		}
; 70   : 	}

  00057	eb b5		 jmp	 SHORT $LN2@Clear
$LN3@Clear:

; 71   : 	
; 72   : 	Initialize();

  00059	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005c	e8 00 00 00 00	 call	 ?Initialize@CTerrainImpl@@IAEXXZ ; CTerrainImpl::Initialize

; 73   : }

  00061	c9		 leave
  00062	c3		 ret	 0
?Clear@CTerrainImpl@@MAEXXZ ENDP			; CTerrainImpl::Clear
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?Initialize@CTerrainImpl@@IAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Initialize@CTerrainImpl@@IAEXXZ PROC			; CTerrainImpl::Initialize, COMDAT
; _this$ = ecx

; 41   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 42   : 	memset(m_lWaterHeight, -1, sizeof(m_lWaterHeight));

  00007	68 00 04 00 00	 push	 1024			; 00000400H
  0000c	6a ff		 push	 -1
  0000e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00011	05 44 a1 04 00	 add	 eax, 303428		; 0004a144H
  00016	50		 push	 eax
  00017	e8 00 00 00 00	 call	 _memset
  0001c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 43   : 
; 44   : 	m_byNumWater = 0;

  0001f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00022	c6 80 40 a1 04
	00 00		 mov	 BYTE PTR [eax+303424], 0

; 45   : 	memset(&m_HeightMapHeader, 0, sizeof(TGA_HEADER));

  00029	6a 12		 push	 18			; 00000012H
  0002b	6a 00		 push	 0
  0002d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00030	05 1d 91 03 00	 add	 eax, 233757		; 0003911dH
  00035	50		 push	 eax
  00036	e8 00 00 00 00	 call	 _memset
  0003b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 46   : 	memset(&m_awShadowMap, 0xFFFF, sizeof(m_awShadowMap));

  0003e	68 00 00 02 00	 push	 131072			; 00020000H
  00043	68 ff ff 00 00	 push	 65535			; 0000ffffH
  00048	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004b	05 48 a5 04 00	 add	 eax, 304456		; 0004a548H
  00050	50		 push	 eax
  00051	e8 00 00 00 00	 call	 _memset
  00056	83 c4 0c	 add	 esp, 12			; 0000000cH

; 47   : 	memset(&m_lpAlphaTexture, NULL, sizeof(m_lpAlphaTexture));

  00059	68 00 04 00 00	 push	 1024			; 00000400H
  0005e	6a 00		 push	 0
  00060	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00063	83 c0 04	 add	 eax, 4
  00066	50		 push	 eax
  00067	e8 00 00 00 00	 call	 _memset
  0006c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 48   : 	
; 49   : 	m_lViewRadius = 0;

  0006f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00072	83 a0 34 91 03
	00 00		 and	 DWORD PTR [eax+233780], 0

; 50   : 
; 51   : 	m_wTileMapVersion = 8976;

  00079	b8 10 23 00 00	 mov	 eax, 8976		; 00002310H
  0007e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00081	66 89 81 30 91
	03 00		 mov	 WORD PTR [ecx+233776], ax

; 52   : 
; 53   : 	m_fHeightScale = 0.0f;

  00088	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0008b	0f 57 c0	 xorps	 xmm0, xmm0
  0008e	f3 0f 11 80 38
	91 03 00	 movss	 DWORD PTR [eax+233784], xmm0

; 54   : 	
; 55   : 	m_lpShadowTexture = NULL;

  00096	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00099	83 a0 44 a5 04
	00 00		 and	 DWORD PTR [eax+304452], 0

; 56   : 
; 57   : 	m_lSplatTilesX = 0;

  000a0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000a3	83 a0 48 a5 06
	00 00		 and	 DWORD PTR [eax+435528], 0

; 58   : 	m_lSplatTilesY = 0;	

  000aa	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ad	83 a0 4c a5 06
	00 00		 and	 DWORD PTR [eax+435532], 0

; 59   : }

  000b4	c9		 leave
  000b5	c3		 ret	 0
?Initialize@CTerrainImpl@@IAEXXZ ENDP			; CTerrainImpl::Initialize
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?GetShadowMapColor@CTerrainImpl@@QAEKMM@Z
_TEXT	SEGMENT
_ix$ = -44						; size = 4
_this$ = -40						; size = 4
_iy$ = -36						; size = 4
_b$ = -32						; size = 4
tv80 = -28						; size = 4
tv76 = -24						; size = 4
_fooMapSize$ = -20					; size = 4
_r$ = -16						; size = 4
_fMapSize$ = -12					; size = 4
_g$ = -8						; size = 4
_w$ = -4						; size = 2
_fx$ = 8						; size = 4
_fy$ = 12						; size = 4
?GetShadowMapColor@CTerrainImpl@@QAEKMM@Z PROC		; CTerrainImpl::GetShadowMapColor, COMDAT
; _this$ = ecx

; 305  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	89 4d d8	 mov	 DWORD PTR _this$[ebp], ecx

; 306  : 	float fMapSize = (float)(TERRAIN_XSIZE);

  00009	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@46c80000
  00011	f3 0f 11 45 f4	 movss	 DWORD PTR _fMapSize$[ebp], xmm0

; 307  : 	float fooMapSize = 1.0f / fMapSize;

  00016	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0001e	f3 0f 5e 45 f4	 divss	 xmm0, DWORD PTR _fMapSize$[ebp]
  00023	f3 0f 11 45 ec	 movss	 DWORD PTR _fooMapSize$[ebp], xmm0

; 308  : 	if (fx < 0 || fy < 0 || fx >= fMapSize || fy >= fMapSize)

  00028	0f 57 c0	 xorps	 xmm0, xmm0
  0002b	0f 2f 45 08	 comiss	 xmm0, DWORD PTR _fx$[ebp]
  0002f	77 1f		 ja	 SHORT $LN3@GetShadowM
  00031	0f 57 c0	 xorps	 xmm0, xmm0
  00034	0f 2f 45 0c	 comiss	 xmm0, DWORD PTR _fy$[ebp]
  00038	77 16		 ja	 SHORT $LN3@GetShadowM
  0003a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _fx$[ebp]
  0003f	0f 2f 45 f4	 comiss	 xmm0, DWORD PTR _fMapSize$[ebp]
  00043	73 0b		 jae	 SHORT $LN3@GetShadowM
  00045	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _fy$[ebp]
  0004a	0f 2f 45 f4	 comiss	 xmm0, DWORD PTR _fMapSize$[ebp]
  0004e	72 08		 jb	 SHORT $LN2@GetShadowM
$LN3@GetShadowM:

; 309  : 		return 0xFFFFFFFF;

  00050	83 c8 ff	 or	 eax, -1
  00053	e9 36 01 00 00	 jmp	 $LN1@GetShadowM
$LN2@GetShadowM:

; 310  : 
; 311  : 	fx = fx * fooMapSize * (float)(SHADOWMAP_XSIZE - 1);

  00058	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _fx$[ebp]
  0005d	f3 0f 59 45 ec	 mulss	 xmm0, DWORD PTR _fooMapSize$[ebp]
  00062	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@437f0000
  0006a	f3 0f 11 45 08	 movss	 DWORD PTR _fx$[ebp], xmm0

; 312  : 	fy = fy * fooMapSize * (float)(SHADOWMAP_YSIZE - 1);

  0006f	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _fy$[ebp]
  00074	f3 0f 59 45 ec	 mulss	 xmm0, DWORD PTR _fooMapSize$[ebp]
  00079	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@437f0000
  00081	f3 0f 11 45 0c	 movss	 DWORD PTR _fy$[ebp], xmm0

; 313  : 	int ix, iy;
; 314  : 	PR_FLOAT_TO_INT(fx, ix);

  00086	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _fx$[ebp]
  0008b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?PR_FCNV@@3MA, xmm0
  00093	d9 05 00 00 00
	00		 fld	 DWORD PTR ?PR_FCNV@@3MA	; PR_FCNV
  00099	db 1d 00 00 00
	00		 fistp	 DWORD PTR ?PR_ICNV@@3JA
  0009f	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?PR_ICNV@@3JA ; PR_ICNV
  000a7	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR ?PR_FCNV@@3MA
  000ae	76 0b		 jbe	 SHORT $LN5@GetShadowM
  000b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?PR_ICNV@@3JA ; PR_ICNV
  000b5	48		 dec	 eax
  000b6	89 45 e8	 mov	 DWORD PTR tv76[ebp], eax
  000b9	eb 08		 jmp	 SHORT $LN6@GetShadowM
$LN5@GetShadowM:
  000bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?PR_ICNV@@3JA ; PR_ICNV
  000c0	89 45 e8	 mov	 DWORD PTR tv76[ebp], eax
$LN6@GetShadowM:
  000c3	8b 45 e8	 mov	 eax, DWORD PTR tv76[ebp]
  000c6	89 45 d4	 mov	 DWORD PTR _ix$[ebp], eax

; 315  : 	PR_FLOAT_TO_INT(fy, iy);

  000c9	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _fy$[ebp]
  000ce	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?PR_FCNV@@3MA, xmm0
  000d6	d9 05 00 00 00
	00		 fld	 DWORD PTR ?PR_FCNV@@3MA	; PR_FCNV
  000dc	db 1d 00 00 00
	00		 fistp	 DWORD PTR ?PR_ICNV@@3JA
  000e2	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?PR_ICNV@@3JA ; PR_ICNV
  000ea	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR ?PR_FCNV@@3MA
  000f1	76 0b		 jbe	 SHORT $LN7@GetShadowM
  000f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?PR_ICNV@@3JA ; PR_ICNV
  000f8	48		 dec	 eax
  000f9	89 45 e4	 mov	 DWORD PTR tv80[ebp], eax
  000fc	eb 08		 jmp	 SHORT $LN8@GetShadowM
$LN7@GetShadowM:
  000fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?PR_ICNV@@3JA ; PR_ICNV
  00103	89 45 e4	 mov	 DWORD PTR tv80[ebp], eax
$LN8@GetShadowM:
  00106	8b 45 e4	 mov	 eax, DWORD PTR tv80[ebp]
  00109	89 45 dc	 mov	 DWORD PTR _iy$[ebp], eax

; 316  : 
; 317  : 	WORD w = *(m_awShadowMap + (iy * SHADOWMAP_XSIZE) + ix);

  0010c	8b 45 dc	 mov	 eax, DWORD PTR _iy$[ebp]
  0010f	c1 e0 08	 shl	 eax, 8
  00112	8b 4d d8	 mov	 ecx, DWORD PTR _this$[ebp]
  00115	8d 84 41 48 a5
	04 00		 lea	 eax, DWORD PTR [ecx+eax*2+304456]
  0011c	8b 4d d4	 mov	 ecx, DWORD PTR _ix$[ebp]
  0011f	66 8b 04 48	 mov	 ax, WORD PTR [eax+ecx*2]
  00123	66 89 45 fc	 mov	 WORD PTR _w$[ebp], ax

; 318  : 
; 319  : 	int b = w & 0x1f; w >>= 5; b <<= 3;

  00127	0f b7 45 fc	 movzx	 eax, WORD PTR _w$[ebp]
  0012b	83 e0 1f	 and	 eax, 31			; 0000001fH
  0012e	89 45 e0	 mov	 DWORD PTR _b$[ebp], eax
  00131	66 8b 45 fc	 mov	 ax, WORD PTR _w$[ebp]
  00135	66 c1 e8 05	 shr	 ax, 5
  00139	66 89 45 fc	 mov	 WORD PTR _w$[ebp], ax
  0013d	8b 45 e0	 mov	 eax, DWORD PTR _b$[ebp]
  00140	c1 e0 03	 shl	 eax, 3
  00143	89 45 e0	 mov	 DWORD PTR _b$[ebp], eax

; 320  : 	int g = w & 0x1f; w >>= 5; g <<= 3;

  00146	0f b7 45 fc	 movzx	 eax, WORD PTR _w$[ebp]
  0014a	83 e0 1f	 and	 eax, 31			; 0000001fH
  0014d	89 45 f8	 mov	 DWORD PTR _g$[ebp], eax
  00150	66 8b 45 fc	 mov	 ax, WORD PTR _w$[ebp]
  00154	66 c1 e8 05	 shr	 ax, 5
  00158	66 89 45 fc	 mov	 WORD PTR _w$[ebp], ax
  0015c	8b 45 f8	 mov	 eax, DWORD PTR _g$[ebp]
  0015f	c1 e0 03	 shl	 eax, 3
  00162	89 45 f8	 mov	 DWORD PTR _g$[ebp], eax

; 321  : 	int r = w & 0x1f;		   r <<= 3;

  00165	0f b7 45 fc	 movzx	 eax, WORD PTR _w$[ebp]
  00169	83 e0 1f	 and	 eax, 31			; 0000001fH
  0016c	89 45 f0	 mov	 DWORD PTR _r$[ebp], eax
  0016f	8b 45 f0	 mov	 eax, DWORD PTR _r$[ebp]
  00172	c1 e0 03	 shl	 eax, 3
  00175	89 45 f0	 mov	 DWORD PTR _r$[ebp], eax

; 322  : 
; 323  : 	return (DWORD) (0xff << 24) | (g << 16) | (g << 8) | r;

  00178	8b 45 f8	 mov	 eax, DWORD PTR _g$[ebp]
  0017b	c1 e0 10	 shl	 eax, 16			; 00000010H
  0017e	0d 00 00 00 ff	 or	 eax, -16777216		; ff000000H
  00183	8b 4d f8	 mov	 ecx, DWORD PTR _g$[ebp]
  00186	c1 e1 08	 shl	 ecx, 8
  00189	0b c1		 or	 eax, ecx
  0018b	0b 45 f0	 or	 eax, DWORD PTR _r$[ebp]
$LN1@GetShadowM:

; 324  : }

  0018e	c9		 leave
  0018f	c2 08 00	 ret	 8
?GetShadowMapColor@CTerrainImpl@@QAEKMM@Z ENDP		; CTerrainImpl::GetShadowMapColor
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z
_TEXT	SEGMENT
_abSrcWaterHeight$2 = -84				; size = 4
_abSrcWaterHeight$3 = -80				; size = 4
_dwFileNeedSize2$4 = -76				; size = 4
_lpcvFileData$ = -72					; size = 4
$T5 = -68						; size = 4
_c_wWaterMapMagic$6 = -64				; size = 2
_abSrcWaterData$7 = -60					; size = 4
_dwFileNeedSize$8 = -56					; size = 4
_abSrcWaterData$9 = -52					; size = 4
_dwFileSize$ = -48					; size = 4
_abFileData$ = -44					; size = 4
_dwFileRestSize$10 = -40				; size = 4
_kWaterMapHeader$11 = -36				; size = 7
_i$12 = -28						; size = 4
$T13 = -23						; size = 1
$T14 = -22						; size = 1
$T15 = -21						; size = 1
$T16 = -20						; size = 1
$T17 = -19						; size = 1
$T18 = -18						; size = 1
$T19 = -17						; size = 1
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
_kMappedFile$ = 0					; size = 324
_wWaterHeight$20 = 324					; size = 512
__$ArrayPad$ = 836					; size = 4
_c_szFileName$ = 848					; size = 4
?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z PROC		; CTerrainImpl::LoadWaterMapFile, COMDAT
; _this$ = ecx

; 208  : {	

  00000	55		 push	 ebp
  00001	8d ac 24 b8 fc
	ff ff		 lea	 ebp, DWORD PTR [esp-840]
  00008	81 ec 48 03 00
	00		 sub	 esp, 840		; 00000348H
  0000e	6a ff		 push	 -1
  00010	68 00 00 00 00	 push	 __ehhandler$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z
  00015	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  0001b	50		 push	 eax
  0001c	83 ec 48	 sub	 esp, 72			; 00000048H
  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00024	33 c5		 xor	 eax, ebp
  00026	89 85 44 03 00
	00		 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0002c	50		 push	 eax
  0002d	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00030	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00036	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx

; 209  : 	CMappedFile	kMappedFile;

  00039	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  0003c	e8 00 00 00 00	 call	 ??0CMappedFile@@QAE@XZ	; CMappedFile::CMappedFile
  00041	83 65 fc 00	 and	 DWORD PTR __$EHRec$[ebp+8], 0
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\eterBase\Singleton.h

; 27   : 		return (*ms_singleton);

  00045	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_singleton@?$CSingleton@VCEterPackManager@@@@0PAVCEterPackManager@@A ; CSingleton<CEterPackManager>::ms_singleton
  0004a	89 45 bc	 mov	 DWORD PTR $T5[ebp], eax
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp

; 212  : 	if (!CEterPackManager::Instance().Get(kMappedFile, c_szFileName, &lpcvFileData))

  0004d	8d 45 b8	 lea	 eax, DWORD PTR _lpcvFileData$[ebp]
  00050	50		 push	 eax
  00051	ff b5 50 03 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00057	8d 45 00	 lea	 eax, DWORD PTR _kMappedFile$[ebp]
  0005a	50		 push	 eax
  0005b	8b 4d bc	 mov	 ecx, DWORD PTR $T5[ebp]
  0005e	e8 00 00 00 00	 call	 ?Get@CEterPackManager@@QAE_NAAVCMappedFile@@PBDPAPBX@Z ; CEterPackManager::Get
  00063	0f b6 c0	 movzx	 eax, al
  00066	85 c0		 test	 eax, eax
  00068	75 35		 jne	 SHORT $LN5@LoadWaterM

; 213  : 	{
; 214  : 		Tracen("Error");

  0006a	68 00 00 00 00	 push	 OFFSET ??_C@_05NAOIJFC@Error@
  0006f	e8 00 00 00 00	 call	 ?Tracen@@YAXPBD@Z	; Tracen
  00074	59		 pop	 ecx

; 215  : 		TraceError("CTerrainImpl::LoadWaterMap - %s OPEN ERROR", c_szFileName);

  00075	ff b5 50 03 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@FEGPIHMN@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
  00080	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  00085	59		 pop	 ecx
  00086	59		 pop	 ecx

; 216  : 		return false;

  00087	c6 45 ef 00	 mov	 BYTE PTR $T19[ebp], 0
  0008b	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  0008f	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00092	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00097	8a 45 ef	 mov	 al, BYTE PTR $T19[ebp]
  0009a	e9 bc 02 00 00	 jmp	 $LN1@LoadWaterM
$LN5@LoadWaterM:

; 217  : 	}	
; 218  : 
; 219  : 	DWORD	dwFileSize = kMappedFile.Size();

  0009f	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000a2	e8 00 00 00 00	 call	 ?Size@CMappedFile@@QAEKXZ ; CMappedFile::Size
  000a7	89 45 d0	 mov	 DWORD PTR _dwFileSize$[ebp], eax

; 220  : 	BYTE*	abFileData = (BYTE*)lpcvFileData;	

  000aa	8b 45 b8	 mov	 eax, DWORD PTR _lpcvFileData$[ebp]
  000ad	89 45 d4	 mov	 DWORD PTR _abFileData$[ebp], eax

; 221  : 
; 222  : 	{
; 223  : #pragma pack(push)
; 224  : #pragma pack(1)
; 225  : 		struct SWaterMapHeader
; 226  : 		{
; 227  : 			WORD m_wMagic;
; 228  : 			WORD m_wWidth;
; 229  : 			WORD m_wHeight;
; 230  : 			BYTE m_byLayerCount;
; 231  : 		};
; 232  : #pragma pack(pop)
; 233  : 		
; 234  : 		if (dwFileSize < sizeof(SWaterMapHeader))

  000b0	83 7d d0 07	 cmp	 DWORD PTR _dwFileSize$[ebp], 7
  000b4	73 2a		 jae	 SHORT $LN6@LoadWaterM

; 235  : 		{
; 236  : 			TraceError("CTerrainImpl::LoadWaterMap - %s FILE SIZE ERROR", c_szFileName);

  000b6	ff b5 50 03 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  000bc	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@BNEIEOIL@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
  000c1	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  000c6	59		 pop	 ecx
  000c7	59		 pop	 ecx

; 237  : 			return false;

  000c8	c6 45 ee 00	 mov	 BYTE PTR $T18[ebp], 0
  000cc	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  000d0	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  000d3	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  000d8	8a 45 ee	 mov	 al, BYTE PTR $T18[ebp]
  000db	e9 7b 02 00 00	 jmp	 $LN1@LoadWaterM
$LN6@LoadWaterM:

; 238  : 		}
; 239  : 
; 240  : 		SWaterMapHeader kWaterMapHeader;
; 241  : 		memcpy(&kWaterMapHeader, abFileData, sizeof(kWaterMapHeader));		

  000e0	6a 07		 push	 7
  000e2	ff 75 d4	 push	 DWORD PTR _abFileData$[ebp]
  000e5	8d 45 dc	 lea	 eax, DWORD PTR _kWaterMapHeader$11[ebp]
  000e8	50		 push	 eax
  000e9	e8 00 00 00 00	 call	 _memcpy
  000ee	83 c4 0c	 add	 esp, 12			; 0000000cH

; 242  : 
; 243  : 		const WORD c_wWaterMapMagic = 5426;

  000f1	b8 32 15 00 00	 mov	 eax, 5426		; 00001532H
  000f6	66 89 45 c0	 mov	 WORD PTR _c_wWaterMapMagic$6[ebp], ax

; 244  : 		
; 245  : 		if (c_wWaterMapMagic != kWaterMapHeader.m_wMagic)

  000fa	0f b7 45 dc	 movzx	 eax, WORD PTR _kWaterMapHeader$11[ebp]
  000fe	3d 32 15 00 00	 cmp	 eax, 5426		; 00001532H
  00103	74 35		 je	 SHORT $LN7@LoadWaterM

; 246  : 		{
; 247  : 			TraceError("CTerrainImpl::LoadWaterMap - %s MAGIC NUMBER(%d!=MAGIC[%d]) ERROR", c_szFileName, kWaterMapHeader.m_wMagic, c_wWaterMapMagic);

  00105	68 32 15 00 00	 push	 5426			; 00001532H
  0010a	0f b7 45 dc	 movzx	 eax, WORD PTR _kWaterMapHeader$11[ebp]
  0010e	50		 push	 eax
  0010f	ff b5 50 03 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_0EC@DBFGDPJD@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
  0011a	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  0011f	83 c4 10	 add	 esp, 16			; 00000010H

; 248  : 			return false;

  00122	c6 45 ed 00	 mov	 BYTE PTR $T17[ebp], 0
  00126	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  0012a	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  0012d	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00132	8a 45 ed	 mov	 al, BYTE PTR $T17[ebp]
  00135	e9 21 02 00 00	 jmp	 $LN1@LoadWaterM
$LN7@LoadWaterM:

; 249  : 		}	
; 250  : 		
; 251  : 		if (WATERMAP_XSIZE != kWaterMapHeader.m_wWidth)

  0013a	0f b7 45 de	 movzx	 eax, WORD PTR _kWaterMapHeader$11[ebp+2]
  0013e	3d 80 00 00 00	 cmp	 eax, 128		; 00000080H
  00143	74 35		 je	 SHORT $LN8@LoadWaterM

; 252  : 		{
; 253  : 			TraceError("CTerrainImpl::LoadWaterMap - kWaterMapHeader(%s).m_width(%d)!=WATERMAP_XSIZE(%d)", c_szFileName, kWaterMapHeader.m_wWidth, WATERMAP_XSIZE);

  00145	68 80 00 00 00	 push	 128			; 00000080H
  0014a	0f b7 45 de	 movzx	 eax, WORD PTR _kWaterMapHeader$11[ebp+2]
  0014e	50		 push	 eax
  0014f	ff b5 50 03 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00155	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@JFMCAAJF@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@
  0015a	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  0015f	83 c4 10	 add	 esp, 16			; 00000010H

; 254  : 			return false;

  00162	c6 45 ec 00	 mov	 BYTE PTR $T16[ebp], 0
  00166	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  0016a	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  0016d	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00172	8a 45 ec	 mov	 al, BYTE PTR $T16[ebp]
  00175	e9 e1 01 00 00	 jmp	 $LN1@LoadWaterM
$LN8@LoadWaterM:

; 255  : 		}
; 256  : 
; 257  : 		if (WATERMAP_YSIZE != kWaterMapHeader.m_wHeight)

  0017a	0f b7 45 e0	 movzx	 eax, WORD PTR _kWaterMapHeader$11[ebp+4]
  0017e	3d 80 00 00 00	 cmp	 eax, 128		; 00000080H
  00183	74 35		 je	 SHORT $LN9@LoadWaterM

; 258  : 		{
; 259  : 			TraceError("CTerrainImpl::LoadWaterMap - kWaterMapHeader(%s).m_height(%d)!=WATERMAP_YSIZE(%d)", c_szFileName, kWaterMapHeader.m_wHeight, WATERMAP_YSIZE);

  00185	68 80 00 00 00	 push	 128			; 00000080H
  0018a	0f b7 45 e0	 movzx	 eax, WORD PTR _kWaterMapHeader$11[ebp+4]
  0018e	50		 push	 eax
  0018f	ff b5 50 03 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  00195	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@EFCAKCOC@CTerrainImpl?3?3LoadWaterMap?5?9?5kW@
  0019a	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  0019f	83 c4 10	 add	 esp, 16			; 00000010H

; 260  : 			return false;

  001a2	c6 45 eb 00	 mov	 BYTE PTR $T15[ebp], 0
  001a6	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  001aa	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  001ad	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  001b2	8a 45 eb	 mov	 al, BYTE PTR $T15[ebp]
  001b5	e9 a1 01 00 00	 jmp	 $LN1@LoadWaterM
$LN9@LoadWaterM:

; 261  : 		}
; 262  : 
; 263  : 		m_byNumWater = kWaterMapHeader.m_byLayerCount;

  001ba	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  001bd	8a 4d e2	 mov	 cl, BYTE PTR _kWaterMapHeader$11[ebp+6]
  001c0	88 88 40 a1 04
	00		 mov	 BYTE PTR [eax+303424], cl

; 264  : 
; 265  : 		DWORD dwFileRestSize = dwFileSize - sizeof(kWaterMapHeader);

  001c6	8b 45 d0	 mov	 eax, DWORD PTR _dwFileSize$[ebp]
  001c9	83 e8 07	 sub	 eax, 7
  001cc	89 45 d8	 mov	 DWORD PTR _dwFileRestSize$10[ebp], eax

; 266  : 		DWORD dwFileNeedSize = sizeof(m_abyWaterMap) + sizeof(long) * m_byNumWater;

  001cf	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  001d2	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  001d9	8d 04 85 00 40
	00 00		 lea	 eax, DWORD PTR [eax*4+16384]
  001e0	89 45 c8	 mov	 DWORD PTR _dwFileNeedSize$8[ebp], eax

; 267  : 		DWORD dwFileNeedSize2 = sizeof(m_abyWaterMap) + sizeof(WORD) * m_byNumWater;

  001e3	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  001e6	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  001ed	8d 84 00 00 40
	00 00		 lea	 eax, DWORD PTR [eax+eax+16384]
  001f4	89 45 b4	 mov	 DWORD PTR _dwFileNeedSize2$4[ebp], eax

; 268  : 		if (dwFileRestSize == dwFileNeedSize2)

  001f7	8b 45 d8	 mov	 eax, DWORD PTR _dwFileRestSize$10[ebp]
  001fa	3b 45 b4	 cmp	 eax, DWORD PTR _dwFileNeedSize2$4[ebp]
  001fd	0f 85 b2 00 00
	00		 jne	 $LN10@LoadWaterM

; 269  : 		{
; 270  : 			WORD wWaterHeight[MAX_WATER_NUM + 1];
; 271  : 			
; 272  : 			BYTE * abSrcWaterData = abFileData + sizeof(kWaterMapHeader);

  00203	8b 45 d4	 mov	 eax, DWORD PTR _abFileData$[ebp]
  00206	83 c0 07	 add	 eax, 7
  00209	89 45 cc	 mov	 DWORD PTR _abSrcWaterData$9[ebp], eax

; 273  : 			memcpy(m_abyWaterMap, abSrcWaterData, sizeof(m_abyWaterMap));	

  0020c	68 00 40 00 00	 push	 16384			; 00004000H
  00211	ff 75 cc	 push	 DWORD PTR _abSrcWaterData$9[ebp]
  00214	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00217	05 1a 8e 02 00	 add	 eax, 167450		; 00028e1aH
  0021c	50		 push	 eax
  0021d	e8 00 00 00 00	 call	 _memcpy
  00222	83 c4 0c	 add	 esp, 12			; 0000000cH

; 274  : 
; 275  : 			BYTE * abSrcWaterHeight = abSrcWaterData + sizeof(m_abyWaterMap);

  00225	8b 45 cc	 mov	 eax, DWORD PTR _abSrcWaterData$9[ebp]
  00228	05 00 40 00 00	 add	 eax, 16384		; 00004000H
  0022d	89 45 b0	 mov	 DWORD PTR _abSrcWaterHeight$3[ebp], eax

; 276  : 
; 277  : 			m_byNumWater = MIN(MAX_WATER_NUM, m_byNumWater);

  00230	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00233	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  0023a	50		 push	 eax
  0023b	68 ff 00 00 00	 push	 255			; 000000ffH
  00240	e8 00 00 00 00	 call	 ?MIN@@YAHHH@Z		; MIN
  00245	59		 pop	 ecx
  00246	59		 pop	 ecx
  00247	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  0024a	88 81 40 a1 04
	00		 mov	 BYTE PTR [ecx+303424], al

; 278  : 			if (m_byNumWater)

  00250	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00253	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  0025a	85 c0		 test	 eax, eax
  0025c	74 55		 je	 SHORT $LN12@LoadWaterM

; 279  : 			{
; 280  : 				memcpy(wWaterHeight, abSrcWaterHeight, sizeof(WORD) * m_byNumWater);

  0025e	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00261	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  00268	d1 e0		 shl	 eax, 1
  0026a	50		 push	 eax
  0026b	ff 75 b0	 push	 DWORD PTR _abSrcWaterHeight$3[ebp]
  0026e	8d 85 44 01 00
	00		 lea	 eax, DWORD PTR _wWaterHeight$20[ebp]
  00274	50		 push	 eax
  00275	e8 00 00 00 00	 call	 _memcpy
  0027a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 281  : 
; 282  : 				for (int i = 0; i < m_byNumWater; ++i)

  0027d	83 65 e4 00	 and	 DWORD PTR _i$12[ebp], 0
  00281	eb 07		 jmp	 SHORT $LN4@LoadWaterM
$LN2@LoadWaterM:
  00283	8b 45 e4	 mov	 eax, DWORD PTR _i$12[ebp]
  00286	40		 inc	 eax
  00287	89 45 e4	 mov	 DWORD PTR _i$12[ebp], eax
$LN4@LoadWaterM:
  0028a	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  0028d	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  00294	39 45 e4	 cmp	 DWORD PTR _i$12[ebp], eax
  00297	7d 1a		 jge	 SHORT $LN12@LoadWaterM

; 283  : 					m_lWaterHeight[i] = wWaterHeight[i];

  00299	8b 45 e4	 mov	 eax, DWORD PTR _i$12[ebp]
  0029c	0f b7 84 45 44
	01 00 00	 movzx	 eax, WORD PTR _wWaterHeight$20[ebp+eax*2]
  002a4	8b 4d e4	 mov	 ecx, DWORD PTR _i$12[ebp]
  002a7	8b 55 f0	 mov	 edx, DWORD PTR _this$[ebp]
  002aa	89 84 8a 44 a1
	04 00		 mov	 DWORD PTR [edx+ecx*4+303428], eax
  002b1	eb d0		 jmp	 SHORT $LN2@LoadWaterM
$LN12@LoadWaterM:

; 284  : 			}
; 285  : 		}

  002b3	eb 36		 jmp	 SHORT $LN11@LoadWaterM
$LN10@LoadWaterM:

; 286  : 		else if (dwFileRestSize != dwFileNeedSize)

  002b5	8b 45 d8	 mov	 eax, DWORD PTR _dwFileRestSize$10[ebp]
  002b8	3b 45 c8	 cmp	 eax, DWORD PTR _dwFileNeedSize$8[ebp]
  002bb	74 2e		 je	 SHORT $LN11@LoadWaterM

; 287  : 		{
; 288  : 			TraceError("CTerrainImpl::LoadWaterMap - %s FILE DATA SIZE(rest %d != need %d) ERROR", c_szFileName, dwFileRestSize, dwFileNeedSize);

  002bd	ff 75 c8	 push	 DWORD PTR _dwFileNeedSize$8[ebp]
  002c0	ff 75 d8	 push	 DWORD PTR _dwFileRestSize$10[ebp]
  002c3	ff b5 50 03 00
	00		 push	 DWORD PTR _c_szFileName$[ebp]
  002c9	68 00 00 00 00	 push	 OFFSET ??_C@_0EJ@JKEHKGG@CTerrainImpl?3?3LoadWaterMap?5?9?5?$CFs@
  002ce	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  002d3	83 c4 10	 add	 esp, 16			; 00000010H

; 289  : 			return false;

  002d6	c6 45 ea 00	 mov	 BYTE PTR $T14[ebp], 0
  002da	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  002de	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  002e1	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  002e6	8a 45 ea	 mov	 al, BYTE PTR $T14[ebp]
  002e9	eb 70		 jmp	 SHORT $LN1@LoadWaterM
$LN11@LoadWaterM:

; 290  : 		}
; 291  : 	
; 292  : 		BYTE * abSrcWaterData = abFileData + sizeof(kWaterMapHeader);

  002eb	8b 45 d4	 mov	 eax, DWORD PTR _abFileData$[ebp]
  002ee	83 c0 07	 add	 eax, 7
  002f1	89 45 c4	 mov	 DWORD PTR _abSrcWaterData$7[ebp], eax

; 293  : 		memcpy(m_abyWaterMap, abSrcWaterData, sizeof(m_abyWaterMap));	

  002f4	68 00 40 00 00	 push	 16384			; 00004000H
  002f9	ff 75 c4	 push	 DWORD PTR _abSrcWaterData$7[ebp]
  002fc	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  002ff	05 1a 8e 02 00	 add	 eax, 167450		; 00028e1aH
  00304	50		 push	 eax
  00305	e8 00 00 00 00	 call	 _memcpy
  0030a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 294  : 
; 295  : 		BYTE * abSrcWaterHeight = abSrcWaterData + sizeof(m_abyWaterMap);

  0030d	8b 45 c4	 mov	 eax, DWORD PTR _abSrcWaterData$7[ebp]
  00310	05 00 40 00 00	 add	 eax, 16384		; 00004000H
  00315	89 45 ac	 mov	 DWORD PTR _abSrcWaterHeight$2[ebp], eax

; 296  : 
; 297  : 		if (m_byNumWater)

  00318	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  0031b	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  00322	85 c0		 test	 eax, eax
  00324	74 22		 je	 SHORT $LN14@LoadWaterM

; 298  : 			memcpy(m_lWaterHeight, abSrcWaterHeight, sizeof(long) * m_byNumWater);

  00326	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00329	0f b6 80 40 a1
	04 00		 movzx	 eax, BYTE PTR [eax+303424]
  00330	c1 e0 02	 shl	 eax, 2
  00333	50		 push	 eax
  00334	ff 75 ac	 push	 DWORD PTR _abSrcWaterHeight$2[ebp]
  00337	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  0033a	05 44 a1 04 00	 add	 eax, 303428		; 0004a144H
  0033f	50		 push	 eax
  00340	e8 00 00 00 00	 call	 _memcpy
  00345	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN14@LoadWaterM:

; 299  : 	}
; 300  : 
; 301  : 	return true;

  00348	c6 45 e9 01	 mov	 BYTE PTR $T13[ebp], 1
  0034c	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  00350	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00353	e8 00 00 00 00	 call	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00358	8a 45 e9	 mov	 al, BYTE PTR $T13[ebp]
$LN1@LoadWaterM:

; 302  : }

  0035b	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0035e	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00365	59		 pop	 ecx
  00366	8b 8d 44 03 00
	00		 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0036c	33 cd		 xor	 ecx, ebp
  0036e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00373	81 c5 48 03 00
	00		 add	 ebp, 840		; 00000348H
  00379	c9		 leave
  0037a	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z$0:
  00000	8d 4d 00	 lea	 ecx, DWORD PTR _kMappedFile$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CMappedFile@@UAE@XZ	; CMappedFile::~CMappedFile
  00008	cc		 int	 3
  00009	cc		 int	 3
  0000a	cc		 int	 3
  0000b	cc		 int	 3
  0000c	cc		 int	 3
__ehhandler$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z:
  0000d	90		 npad	 1
  0000e	90		 npad	 1
  0000f	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00013	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00016	8b 4a b4	 mov	 ecx, DWORD PTR [edx-76]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	8b 8a 50 03 00
	00		 mov	 ecx, DWORD PTR [edx+848]
  00026	33 c8		 xor	 ecx, eax
  00028	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002d	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z
  00032	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z ENDP		; CTerrainImpl::LoadWaterMapFile
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?LoadWaterMap@CTerrainImpl@@QAE_NPBD@Z
_TEXT	SEGMENT
_dwStart$ = -8						; size = 4
_this$ = -4						; size = 4
_c_szFileName$ = 8					; size = 4
?LoadWaterMap@CTerrainImpl@@QAE_NPBD@Z PROC		; CTerrainImpl::LoadWaterMap, COMDAT
; _this$ = ecx

; 188  : {	

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	51		 push	 ecx
  00005	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 189  : 	DWORD dwStart = ELTimer_GetMSec();

  00008	e8 00 00 00 00	 call	 ?ELTimer_GetMSec@@YAKXZ	; ELTimer_GetMSec
  0000d	89 45 f8	 mov	 DWORD PTR _dwStart$[ebp], eax

; 190  : 
; 191  : 	if (!LoadWaterMapFile(c_szFileName))

  00010	ff 75 08	 push	 DWORD PTR _c_szFileName$[ebp]
  00013	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00016	e8 00 00 00 00	 call	 ?LoadWaterMapFile@CTerrainImpl@@QAE_NPBD@Z ; CTerrainImpl::LoadWaterMapFile
  0001b	0f b6 c0	 movzx	 eax, al
  0001e	85 c0		 test	 eax, eax
  00020	75 50		 jne	 SHORT $LN2@LoadWaterM

; 192  : 	{
; 193  : 		memset(m_abyWaterMap, 0xFF, sizeof(m_abyWaterMap));

  00022	68 00 40 00 00	 push	 16384			; 00004000H
  00027	68 ff 00 00 00	 push	 255			; 000000ffH
  0002c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002f	05 1a 8e 02 00	 add	 eax, 167450		; 00028e1aH
  00034	50		 push	 eax
  00035	e8 00 00 00 00	 call	 _memset
  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 194  : 
; 195  : 		m_byNumWater = 0;

  0003d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00040	c6 80 40 a1 04
	00 00		 mov	 BYTE PTR [eax+303424], 0

; 196  : 		memset(m_lWaterHeight, -1, sizeof(m_lWaterHeight));

  00047	68 00 04 00 00	 push	 1024			; 00000400H
  0004c	6a ff		 push	 -1
  0004e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00051	05 44 a1 04 00	 add	 eax, 303428		; 0004a144H
  00056	50		 push	 eax
  00057	e8 00 00 00 00	 call	 _memset
  0005c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 197  : 		
; 198  : 		TraceError("CMapOutdoor::LoadWaterMap LoadWaterMapFile(%s) Failed", c_szFileName);

  0005f	ff 75 08	 push	 DWORD PTR _c_szFileName$[ebp]
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@MJOJCCLB@CMapOutdoor?3?3LoadWaterMap?5LoadW@
  00067	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  0006c	59		 pop	 ecx
  0006d	59		 pop	 ecx

; 199  : 
; 200  : 		return false;

  0006e	32 c0		 xor	 al, al
  00070	eb 1b		 jmp	 SHORT $LN1@LoadWaterM
$LN2@LoadWaterM:

; 201  : 	}
; 202  : 
; 203  : 	Tracef("LoadWaterMapFile %s %d\n", c_szFileName, ELTimer_GetMSec() - dwStart);

  00072	e8 00 00 00 00	 call	 ?ELTimer_GetMSec@@YAKXZ	; ELTimer_GetMSec
  00077	2b 45 f8	 sub	 eax, DWORD PTR _dwStart$[ebp]
  0007a	50		 push	 eax
  0007b	ff 75 08	 push	 DWORD PTR _c_szFileName$[ebp]
  0007e	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@LPNELCOB@LoadWaterMapFile?5?$CFs?5?$CFd?6@
  00083	e8 00 00 00 00	 call	 ?Tracef@@YAXPBDZZ	; Tracef
  00088	83 c4 0c	 add	 esp, 12			; 0000000cH

; 204  : 	return true;

  0008b	b0 01		 mov	 al, 1
$LN1@LoadWaterM:

; 205  : }

  0008d	c9		 leave
  0008e	c2 04 00	 ret	 4
?LoadWaterMap@CTerrainImpl@@QAE_NPBD@Z ENDP		; CTerrainImpl::LoadWaterMap
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ??1CTerrainImpl@@UAE@XZ
_TEXT	SEGMENT
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
??1CTerrainImpl@@UAE@XZ PROC				; CTerrainImpl::~CTerrainImpl, COMDAT
; _this$ = ecx

; 36   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??1CTerrainImpl@@UAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00017	33 c5		 xor	 eax, ebp
  00019	50		 push	 eax
  0001a	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001d	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00023	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx
  00026	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00029	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CTerrainImpl@@6B@

; 37   : 	Clear();

  0002f	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00032	e8 00 00 00 00	 call	 ?Clear@CTerrainImpl@@MAEXXZ ; CTerrainImpl::Clear

; 38   : }

  00037	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0003a	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00041	59		 pop	 ecx
  00042	c9		 leave
  00043	c3		 ret	 0
  00044	cc		 int	 3
  00045	cc		 int	 3
  00046	cc		 int	 3
  00047	cc		 int	 3
  00048	cc		 int	 3
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??1CTerrainImpl@@UAE@XZ:
  00000	90		 npad	 1
  00001	90		 npad	 1
  00002	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00006	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00009	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  0000c	33 c8		 xor	 ecx, eax
  0000e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00013	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??1CTerrainImpl@@UAE@XZ
  00018	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??1CTerrainImpl@@UAE@XZ ENDP				; CTerrainImpl::~CTerrainImpl
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ??0CTerrainImpl@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CTerrainImpl@@QAE@XZ PROC				; CTerrainImpl::CTerrainImpl, COMDAT
; _this$ = ecx

; 31   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CTerrainImpl@@6B@

; 32   : 	Initialize();

  00010	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00013	e8 00 00 00 00	 call	 ?Initialize@CTerrainImpl@@IAEXXZ ; CTerrainImpl::Initialize

; 33   : }

  00018	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001b	c9		 leave
  0001c	c3		 ret	 0
??0CTerrainImpl@@QAE@XZ ENDP				; CTerrainImpl::CTerrainImpl
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?GetTextureSet@CTerrainImpl@@SAPAVCTextureSet@@XZ
_TEXT	SEGMENT
?GetTextureSet@CTerrainImpl@@SAPAVCTextureSet@@XZ PROC	; CTerrainImpl::GetTextureSet, COMDAT

; 23   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 24   : 	if (!ms_pTextureSet)

  00003	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?ms_pTextureSet@CTerrainImpl@@1PAVCTextureSet@@A, 0 ; CTerrainImpl::ms_pTextureSet
  0000a	75 08		 jne	 SHORT $LN2@GetTexture

; 25   : 		SetTextureSet(NULL);

  0000c	6a 00		 push	 0
  0000e	e8 00 00 00 00	 call	 ?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z ; CTerrainImpl::SetTextureSet
  00013	59		 pop	 ecx
$LN2@GetTexture:

; 26   : 
; 27   : 	return ms_pTextureSet;

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ms_pTextureSet@CTerrainImpl@@1PAVCTextureSet@@A ; CTerrainImpl::ms_pTextureSet

; 28   : }

  00019	5d		 pop	 ebp
  0001a	c3		 ret	 0
?GetTextureSet@CTerrainImpl@@SAPAVCTextureSet@@XZ ENDP	; CTerrainImpl::GetTextureSet
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\PRTerrainLib\Terrain.cpp
;	COMDAT ?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z
_TEXT	SEGMENT
__$EHRec$ = -12						; size = 12
_pTextureSet$ = 8					; size = 4
?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z PROC	; CTerrainImpl::SetTextureSet, COMDAT

; 13   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00016	33 c5		 xor	 eax, ebp
  00018	50		 push	 eax
  00019	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001c	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 14   : 	static CTextureSet s_EmptyTextureSet;

  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR __tls_index
  00027	64 8b 0d 00 00
	00 00		 mov	 ecx, DWORD PTR fs:__tls_array
  0002e	8b 04 81	 mov	 eax, DWORD PTR [ecx+eax*4]
  00031	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?$TSS0@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4HA
  00037	3b 88 00 00 00
	00		 cmp	 ecx, DWORD PTR __Init_thread_epoch[eax]
  0003d	7e 3c		 jle	 SHORT $LN2@SetTexture
  0003f	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4HA
  00044	e8 00 00 00 00	 call	 __Init_thread_header
  00049	59		 pop	 ecx
  0004a	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?$TSS0@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4HA, -1
  00051	75 28		 jne	 SHORT $LN2@SetTexture
  00053	83 65 fc 00	 and	 DWORD PTR __$EHRec$[ebp+8], 0
  00057	b9 00 00 00 00	 mov	 ecx, OFFSET ?s_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4V3@A
  0005c	e8 00 00 00 00	 call	 ??0CTextureSet@@QAE@XZ	; CTextureSet::CTextureSet
  00061	68 00 00 00 00	 push	 OFFSET ??__Fs_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@YAXXZ ; `CTerrainImpl::SetTextureSet'::`2'::`dynamic atexit destructor for 's_EmptyTextureSet''
  00066	e8 00 00 00 00	 call	 _atexit
  0006b	59		 pop	 ecx
  0006c	83 4d fc ff	 or	 DWORD PTR __$EHRec$[ebp+8], -1
  00070	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4HA
  00075	e8 00 00 00 00	 call	 __Init_thread_footer
  0007a	59		 pop	 ecx
$LN2@SetTexture:

; 15   : 
; 16   : 	if (!pTextureSet)

  0007b	83 7d 08 00	 cmp	 DWORD PTR _pTextureSet$[ebp], 0
  0007f	75 0c		 jne	 SHORT $LN3@SetTexture

; 17   : 		ms_pTextureSet = &s_EmptyTextureSet;

  00081	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ms_pTextureSet@CTerrainImpl@@1PAVCTextureSet@@A, OFFSET ?s_EmptyTextureSet@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4V3@A ; CTerrainImpl::ms_pTextureSet
  0008b	eb 08		 jmp	 SHORT $LN1@SetTexture
$LN3@SetTexture:

; 18   : 	else
; 19   : 		ms_pTextureSet = pTextureSet;

  0008d	8b 45 08	 mov	 eax, DWORD PTR _pTextureSet$[ebp]
  00090	a3 00 00 00 00	 mov	 DWORD PTR ?ms_pTextureSet@CTerrainImpl@@1PAVCTextureSet@@A, eax ; CTerrainImpl::ms_pTextureSet
$LN1@SetTexture:

; 20   : }

  00095	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00098	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0009f	59		 pop	 ecx
  000a0	c9		 leave
  000a1	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z$0:
  00000	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z@4HA
  00005	e8 00 00 00 00	 call	 __Init_thread_abort
  0000a	59		 pop	 ecx
  0000b	c3		 ret	 0
  0000c	cc		 int	 3
  0000d	cc		 int	 3
  0000e	cc		 int	 3
  0000f	cc		 int	 3
  00010	cc		 int	 3
__ehhandler$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z:
  00011	90		 npad	 1
  00012	90		 npad	 1
  00013	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00017	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  0001a	8b 4a fc	 mov	 ecx, DWORD PTR [edx-4]
  0001d	33 c8		 xor	 ecx, eax
  0001f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00024	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z
  00029	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?SetTextureSet@CTerrainImpl@@SAXPAVCTextureSet@@@Z ENDP	; CTerrainImpl::SetTextureSet
END
