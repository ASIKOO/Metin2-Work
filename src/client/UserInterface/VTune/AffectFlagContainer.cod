; Listing generated by Microsoft (R) Optimizing Compiler Version 19.28.29335.0 

	TITLE	D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??0CAffectFlagContainer@@QAE@XZ			; CAffectFlagContainer::CAffectFlagContainer
PUBLIC	??1CAffectFlagContainer@@QAE@XZ			; CAffectFlagContainer::~CAffectFlagContainer
PUBLIC	?Clear@CAffectFlagContainer@@QAEXXZ		; CAffectFlagContainer::Clear
PUBLIC	?CopyInstance@CAffectFlagContainer@@QAEXABV1@@Z	; CAffectFlagContainer::CopyInstance
PUBLIC	?Set@CAffectFlagContainer@@QAEXI_N@Z		; CAffectFlagContainer::Set
PUBLIC	?IsSet@CAffectFlagContainer@@QBE_NI@Z		; CAffectFlagContainer::IsSet
PUBLIC	?CopyData@CAffectFlagContainer@@QAEXIIPBX@Z	; CAffectFlagContainer::CopyData
PUBLIC	?ConvertToPosition@CAffectFlagContainer@@QBEXPAI0@Z ; CAffectFlagContainer::ConvertToPosition
PUBLIC	??_C@_0CP@PLCKJEOM@CAffectFlagContainer?3?3Set?$CIuPos?$DN@ ; `string'
PUBLIC	??_C@_0CH@FJPFCGKP@CAffectFlagContainer?3?3IsSet?$CIuPo@ ; `string'
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	?TraceError@@YAXPBDZZ:PROC			; TraceError
;	COMDAT ??_C@_0CH@FJPFCGKP@CAffectFlagContainer?3?3IsSet?$CIuPo@
CONST	SEGMENT
??_C@_0CH@FJPFCGKP@CAffectFlagContainer?3?3IsSet?$CIuPo@ DB 'CAffectFlagC'
	DB	'ontainer::IsSet(uPos=%d>%d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CP@PLCKJEOM@CAffectFlagContainer?3?3Set?$CIuPos?$DN@
CONST	SEGMENT
??_C@_0CP@PLCKJEOM@CAffectFlagContainer?3?3Set?$CIuPos?$DN@ DB 'CAffectFl'
	DB	'agContainer::Set(uPos=%d>%d, isSet=%d', 00H	; `string'
CONST	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ?ConvertToPosition@CAffectFlagContainer@@QBEXPAI0@Z
_TEXT	SEGMENT
_this$ = -8						; size = 4
_pos$ = -4						; size = 4
_uRetX$ = 8						; size = 4
_uRetY$ = 12						; size = 4
?ConvertToPosition@CAffectFlagContainer@@QBEXPAI0@Z PROC ; CAffectFlagContainer::ConvertToPosition, COMDAT
; _this$ = ecx

; 43   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	51		 push	 ecx
  00005	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 44   : 	DWORD* pos = (DWORD*)m_aElement;

  00008	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0000b	89 45 fc	 mov	 DWORD PTR _pos$[ebp], eax

; 45   : 	*uRetX = pos[0];

  0000e	6a 04		 push	 4
  00010	58		 pop	 eax
  00011	6b c0 00	 imul	 eax, eax, 0
  00014	8b 4d 08	 mov	 ecx, DWORD PTR _uRetX$[ebp]
  00017	8b 55 fc	 mov	 edx, DWORD PTR _pos$[ebp]
  0001a	8b 04 02	 mov	 eax, DWORD PTR [edx+eax]
  0001d	89 01		 mov	 DWORD PTR [ecx], eax

; 46   : 	*uRetY = pos[1];

  0001f	6a 04		 push	 4
  00021	58		 pop	 eax
  00022	c1 e0 00	 shl	 eax, 0
  00025	8b 4d 0c	 mov	 ecx, DWORD PTR _uRetY$[ebp]
  00028	8b 55 fc	 mov	 edx, DWORD PTR _pos$[ebp]
  0002b	8b 04 02	 mov	 eax, DWORD PTR [edx+eax]
  0002e	89 01		 mov	 DWORD PTR [ecx], eax

; 47   : }

  00030	c9		 leave
  00031	c2 08 00	 ret	 8
?ConvertToPosition@CAffectFlagContainer@@QBEXPAI0@Z ENDP ; CAffectFlagContainer::ConvertToPosition
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ?CopyData@CAffectFlagContainer@@QAEXIIPBX@Z
_TEXT	SEGMENT
_this$ = -24						; size = 4
_uBitEnd$ = -20						; size = 4
tv87 = -16						; size = 4
_c_pbData$ = -12					; size = 4
_i$1 = -8						; size = 4
_bMask$ = -1						; size = 1
_uPos$ = 8						; size = 4
_uByteSize$ = 12					; size = 4
_c_pvData$ = 16						; size = 4
?CopyData@CAffectFlagContainer@@QAEXIIPBX@Z PROC	; CAffectFlagContainer::CopyData, COMDAT
; _this$ = ecx

; 24   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	89 4d e8	 mov	 DWORD PTR _this$[ebp], ecx

; 25   : 	const BYTE* c_pbData=(const BYTE*)c_pvData; 

  00009	8b 45 10	 mov	 eax, DWORD PTR _c_pvData$[ebp]
  0000c	89 45 f4	 mov	 DWORD PTR _c_pbData$[ebp], eax

; 26   : 	Element bMask=0x01;

  0000f	c6 45 ff 01	 mov	 BYTE PTR _bMask$[ebp], 1

; 27   : 
; 28   : 	UINT uBitEnd=uPos+uByteSize*8;

  00013	8b 45 0c	 mov	 eax, DWORD PTR _uByteSize$[ebp]
  00016	8b 4d 08	 mov	 ecx, DWORD PTR _uPos$[ebp]
  00019	8d 04 c1	 lea	 eax, DWORD PTR [ecx+eax*8]
  0001c	89 45 ec	 mov	 DWORD PTR _uBitEnd$[ebp], eax

; 29   : 	for (UINT i=uPos; i<uBitEnd; ++i)

  0001f	8b 45 08	 mov	 eax, DWORD PTR _uPos$[ebp]
  00022	89 45 f8	 mov	 DWORD PTR _i$1[ebp], eax
  00025	eb 07		 jmp	 SHORT $LN4@CopyData
$LN2@CopyData:
  00027	8b 45 f8	 mov	 eax, DWORD PTR _i$1[ebp]
  0002a	40		 inc	 eax
  0002b	89 45 f8	 mov	 DWORD PTR _i$1[ebp], eax
$LN4@CopyData:
  0002e	8b 45 f8	 mov	 eax, DWORD PTR _i$1[ebp]
  00031	3b 45 ec	 cmp	 eax, DWORD PTR _uBitEnd$[ebp]
  00034	73 43		 jae	 SHORT $LN1@CopyData

; 30   : 	{
; 31   : 		Set(i, (*c_pbData & bMask) ? true : false);

  00036	8b 45 f4	 mov	 eax, DWORD PTR _c_pbData$[ebp]
  00039	0f b6 00	 movzx	 eax, BYTE PTR [eax]
  0003c	0f b6 4d ff	 movzx	 ecx, BYTE PTR _bMask$[ebp]
  00040	23 c1		 and	 eax, ecx
  00042	74 06		 je	 SHORT $LN7@CopyData
  00044	c6 45 f0 01	 mov	 BYTE PTR tv87[ebp], 1
  00048	eb 04		 jmp	 SHORT $LN8@CopyData
$LN7@CopyData:
  0004a	c6 45 f0 00	 mov	 BYTE PTR tv87[ebp], 0
$LN8@CopyData:
  0004e	ff 75 f0	 push	 DWORD PTR tv87[ebp]
  00051	ff 75 f8	 push	 DWORD PTR _i$1[ebp]
  00054	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00057	e8 00 00 00 00	 call	 ?Set@CAffectFlagContainer@@QAEXI_N@Z ; CAffectFlagContainer::Set

; 32   : 		bMask<<=1;

  0005c	8a 45 ff	 mov	 al, BYTE PTR _bMask$[ebp]
  0005f	d0 e0		 shl	 al, 1
  00061	88 45 ff	 mov	 BYTE PTR _bMask$[ebp], al

; 33   : 
; 34   : 		if (bMask==0)

  00064	0f b6 45 ff	 movzx	 eax, BYTE PTR _bMask$[ebp]
  00068	85 c0		 test	 eax, eax
  0006a	75 0b		 jne	 SHORT $LN5@CopyData

; 35   : 		{
; 36   : 			++c_pbData;

  0006c	8b 45 f4	 mov	 eax, DWORD PTR _c_pbData$[ebp]
  0006f	40		 inc	 eax
  00070	89 45 f4	 mov	 DWORD PTR _c_pbData$[ebp], eax

; 37   : 			bMask=0x01;

  00073	c6 45 ff 01	 mov	 BYTE PTR _bMask$[ebp], 1
$LN5@CopyData:

; 38   : 		}
; 39   : 	}

  00077	eb ae		 jmp	 SHORT $LN2@CopyData
$LN1@CopyData:

; 40   : }

  00079	c9		 leave
  0007a	c2 0c 00	 ret	 12			; 0000000cH
?CopyData@CAffectFlagContainer@@QAEXIIPBX@Z ENDP	; CAffectFlagContainer::CopyData
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ?IsSet@CAffectFlagContainer@@QBE_NI@Z
_TEXT	SEGMENT
_c_rElement$ = -12					; size = 4
_this$ = -8						; size = 4
_bMask$ = -1						; size = 1
_uPos$ = 8						; size = 4
?IsSet@CAffectFlagContainer@@QBE_NI@Z PROC		; CAffectFlagContainer::IsSet, COMDAT
; _this$ = ecx

; 78   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 79   : 	if (uPos/8>=BYTE_SIZE)

  00009	8b 45 08	 mov	 eax, DWORD PTR _uPos$[ebp]
  0000c	c1 e8 03	 shr	 eax, 3
  0000f	83 f8 08	 cmp	 eax, 8
  00012	72 16		 jb	 SHORT $LN2@IsSet

; 80   : 	{
; 81   : 		TraceError("CAffectFlagContainer::IsSet(uPos=%d>%d", uPos, BYTE_SIZE*8);

  00014	6a 40		 push	 64			; 00000040H
  00016	ff 75 08	 push	 DWORD PTR _uPos$[ebp]
  00019	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@FJPFCGKP@CAffectFlagContainer?3?3IsSet?$CIuPo@
  0001e	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  00023	83 c4 0c	 add	 esp, 12			; 0000000cH

; 82   : 		return false;

  00026	32 c0		 xor	 al, al
  00028	eb 2e		 jmp	 SHORT $LN1@IsSet
$LN2@IsSet:

; 83   : 	}
; 84   : 
; 85   : 	const BYTE& c_rElement=m_aElement[uPos/8];

  0002a	8b 45 08	 mov	 eax, DWORD PTR _uPos$[ebp]
  0002d	c1 e8 03	 shr	 eax, 3
  00030	03 45 f8	 add	 eax, DWORD PTR _this$[ebp]
  00033	89 45 f4	 mov	 DWORD PTR _c_rElement$[ebp], eax

; 86   : 
; 87   : 	BYTE bMask=BYTE(1<<(uPos&7));

  00036	8b 4d 08	 mov	 ecx, DWORD PTR _uPos$[ebp]
  00039	83 e1 07	 and	 ecx, 7
  0003c	33 c0		 xor	 eax, eax
  0003e	40		 inc	 eax
  0003f	d3 e0		 shl	 eax, cl
  00041	88 45 ff	 mov	 BYTE PTR _bMask$[ebp], al

; 88   : 	if (c_rElement&bMask)

  00044	8b 45 f4	 mov	 eax, DWORD PTR _c_rElement$[ebp]
  00047	0f b6 00	 movzx	 eax, BYTE PTR [eax]
  0004a	0f b6 4d ff	 movzx	 ecx, BYTE PTR _bMask$[ebp]
  0004e	23 c1		 and	 eax, ecx
  00050	74 04		 je	 SHORT $LN3@IsSet

; 89   : 		return true;

  00052	b0 01		 mov	 al, 1
  00054	eb 02		 jmp	 SHORT $LN1@IsSet
$LN3@IsSet:

; 90   : 
; 91   : 	return false;

  00056	32 c0		 xor	 al, al
$LN1@IsSet:

; 92   : }

  00058	c9		 leave
  00059	c2 04 00	 ret	 4
?IsSet@CAffectFlagContainer@@QBE_NI@Z ENDP		; CAffectFlagContainer::IsSet
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ?Set@CAffectFlagContainer@@QAEXI_N@Z
_TEXT	SEGMENT
_this$ = -12						; size = 4
_rElement$ = -8						; size = 4
_bMask$ = -1						; size = 1
_uPos$ = 8						; size = 4
_isSet$ = 12						; size = 1
?Set@CAffectFlagContainer@@QAEXI_N@Z PROC		; CAffectFlagContainer::Set, COMDAT
; _this$ = ecx

; 61   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	89 4d f4	 mov	 DWORD PTR _this$[ebp], ecx

; 62   : 	if (uPos/8>=BYTE_SIZE)

  00009	8b 45 08	 mov	 eax, DWORD PTR _uPos$[ebp]
  0000c	c1 e8 03	 shr	 eax, 3
  0000f	83 f8 08	 cmp	 eax, 8
  00012	72 19		 jb	 SHORT $LN2@Set

; 63   : 	{
; 64   : 		TraceError("CAffectFlagContainer::Set(uPos=%d>%d, isSet=%d", uPos, BYTE_SIZE*8, isSet);

  00014	0f b6 45 0c	 movzx	 eax, BYTE PTR _isSet$[ebp]
  00018	50		 push	 eax
  00019	6a 40		 push	 64			; 00000040H
  0001b	ff 75 08	 push	 DWORD PTR _uPos$[ebp]
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@PLCKJEOM@CAffectFlagContainer?3?3Set?$CIuPos?$DN@
  00023	e8 00 00 00 00	 call	 ?TraceError@@YAXPBDZZ	; TraceError
  00028	83 c4 10	 add	 esp, 16			; 00000010H

; 65   : 		return;

  0002b	eb 48		 jmp	 SHORT $LN1@Set
$LN2@Set:

; 66   : 	}
; 67   : 
; 68   : 	BYTE& rElement=m_aElement[uPos/8];

  0002d	8b 45 08	 mov	 eax, DWORD PTR _uPos$[ebp]
  00030	c1 e8 03	 shr	 eax, 3
  00033	03 45 f4	 add	 eax, DWORD PTR _this$[ebp]
  00036	89 45 f8	 mov	 DWORD PTR _rElement$[ebp], eax

; 69   : 
; 70   : 	BYTE bMask=BYTE(1<<(uPos&7));

  00039	8b 4d 08	 mov	 ecx, DWORD PTR _uPos$[ebp]
  0003c	83 e1 07	 and	 ecx, 7
  0003f	33 c0		 xor	 eax, eax
  00041	40		 inc	 eax
  00042	d3 e0		 shl	 eax, cl
  00044	88 45 ff	 mov	 BYTE PTR _bMask$[ebp], al

; 71   : 	if (isSet)

  00047	0f b6 45 0c	 movzx	 eax, BYTE PTR _isSet$[ebp]
  0004b	85 c0		 test	 eax, eax
  0004d	74 13		 je	 SHORT $LN3@Set

; 72   : 		rElement|=bMask;

  0004f	0f b6 45 ff	 movzx	 eax, BYTE PTR _bMask$[ebp]
  00053	8b 4d f8	 mov	 ecx, DWORD PTR _rElement$[ebp]
  00056	0f b6 09	 movzx	 ecx, BYTE PTR [ecx]
  00059	0b c8		 or	 ecx, eax
  0005b	8b 45 f8	 mov	 eax, DWORD PTR _rElement$[ebp]
  0005e	88 08		 mov	 BYTE PTR [eax], cl
  00060	eb 13		 jmp	 SHORT $LN1@Set
$LN3@Set:

; 73   : 	else
; 74   : 		rElement&=~bMask;

  00062	0f b6 45 ff	 movzx	 eax, BYTE PTR _bMask$[ebp]
  00066	f7 d0		 not	 eax
  00068	8b 4d f8	 mov	 ecx, DWORD PTR _rElement$[ebp]
  0006b	0f b6 09	 movzx	 ecx, BYTE PTR [ecx]
  0006e	23 c8		 and	 ecx, eax
  00070	8b 45 f8	 mov	 eax, DWORD PTR _rElement$[ebp]
  00073	88 08		 mov	 BYTE PTR [eax], cl
$LN1@Set:

; 75   : }

  00075	c9		 leave
  00076	c2 08 00	 ret	 8
?Set@CAffectFlagContainer@@QAEXI_N@Z ENDP		; CAffectFlagContainer::Set
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ?CopyInstance@CAffectFlagContainer@@QAEXABV1@@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_c_rkAffectContainer$ = 8				; size = 4
?CopyInstance@CAffectFlagContainer@@QAEXABV1@@Z PROC	; CAffectFlagContainer::CopyInstance, COMDAT
; _this$ = ecx

; 19   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 20   : 	memcpy(m_aElement, c_rkAffectContainer.m_aElement, sizeof(m_aElement));

  00007	6a 08		 push	 8
  00009	ff 75 08	 push	 DWORD PTR _c_rkAffectContainer$[ebp]
  0000c	ff 75 fc	 push	 DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 _memcpy
  00014	83 c4 0c	 add	 esp, 12			; 0000000cH

; 21   : }

  00017	c9		 leave
  00018	c2 04 00	 ret	 4
?CopyInstance@CAffectFlagContainer@@QAEXABV1@@Z ENDP	; CAffectFlagContainer::CopyInstance
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ?Clear@CAffectFlagContainer@@QAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Clear@CAffectFlagContainer@@QAEXXZ PROC		; CAffectFlagContainer::Clear, COMDAT
; _this$ = ecx

; 14   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 15   : 	memset(m_aElement, 0, sizeof(m_aElement));

  00007	6a 08		 push	 8
  00009	6a 00		 push	 0
  0000b	ff 75 fc	 push	 DWORD PTR _this$[ebp]
  0000e	e8 00 00 00 00	 call	 _memset
  00013	83 c4 0c	 add	 esp, 12			; 0000000cH

; 16   : }

  00016	c9		 leave
  00017	c3		 ret	 0
?Clear@CAffectFlagContainer@@QAEXXZ ENDP		; CAffectFlagContainer::Clear
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ??1CAffectFlagContainer@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CAffectFlagContainer@@QAE@XZ PROC			; CAffectFlagContainer::~CAffectFlagContainer, COMDAT
; _this$ = ecx

; 10   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 11   : }

  00007	c9		 leave
  00008	c3		 ret	 0
??1CAffectFlagContainer@@QAE@XZ ENDP			; CAffectFlagContainer::~CAffectFlagContainer
_TEXT	ENDS
; Function compile flags: /Odspy
; File D:\Metin2 Server Files\mainline\SRC_2014\Metin2Client\UserInterface\AffectFlagContainer.cpp
;	COMDAT ??0CAffectFlagContainer@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CAffectFlagContainer@@QAE@XZ PROC			; CAffectFlagContainer::CAffectFlagContainer, COMDAT
; _this$ = ecx

; 5    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6    : 	Clear();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?Clear@CAffectFlagContainer@@QAEXXZ ; CAffectFlagContainer::Clear

; 7    : }

  0000f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00012	c9		 leave
  00013	c3		 ret	 0
??0CAffectFlagContainer@@QAE@XZ ENDP			; CAffectFlagContainer::CAffectFlagContainer
_TEXT	ENDS
END
